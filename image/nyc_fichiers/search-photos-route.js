webpackJsonp([16],{1406:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1956);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1414:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1434);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1415:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={children:a.PropTypes.node,delay:a.PropTypes.number,wrapperClassName:a.PropTypes.string,targetWrapperClassName:a.PropTypes.string,mode:a.PropTypes.oneOf(["mount","visibility"]),onExit:a.PropTypes.func},o={mode:"mount"},n=function(o){function n(){var e=o.call(this)||this;return e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseLeave=e.handleMouseLeave.bind(e),e.state={isHovering:!1},e}return d(n,o),n.prototype.shouldComponentUpdate=function(e,t){var o=!(0,u.default)(this.props,e),n=this.state.isHovering!==t.isHovering;return o||n},n.prototype.handleMouseMove=function(){var e=this;this.state.isHovering||this.hoverTimerId||(this.hoverTimerId=window.setTimeout(function(){e.hoverTimerId=null,e.setState({isHovering:!0})},this.props.delay))},n.prototype.handleMouseLeave=function(){this.hoverTimerId&&(window.clearTimeout(this.hoverTimerId),this.hoverTimerId=null),this.setState({isHovering:!1},this.props.onExit)},n.prototype.renderHoverContents=function(){var o=this.state.isHovering,n=this.props,r=n.mode,a=n.targetWrapperClassName,i=(0,c.default)(this.props,Object.keys(t));return"visibility"===r?l.default.createElement("span",{className:a,style:{visibility:o?"visible":"hidden"}},l.default.createElement(e,p({},i))):o?l.default.createElement(e,p({},i)):null},n.prototype.render=function(){var e=this.props,t=e.children,o=e.wrapperClassName;return l.default.createElement("span",{className:o,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},this.renderHoverContents(),t)},n}(a.Component);return n.displayName="WrappedHoverComponent",n.propTypes=t,n.defaultProps=o,n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(1),l=n(a),i=o(502),u=n(i),s=o(142),c=n(s),d=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}},1416:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1417);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1417:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;var r=o(1),a=n(r),l=o(9),i=o(58),u=n(i),s=o(10),c=n(s),d=o(22),p=o(497),f=o(47),h=o(29),m=n(h),y=o(1418),_=o(1419),v=n(_),b=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),P={isLoggedIn:r.PropTypes.bool.isRequired},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.renderFooterMain=function(){var e=this.props.isLoggedIn;return a.default.createElement("div",{className:v.default.footerMain},a.default.createElement("div",{className:v.default.linkContainer},a.default.createElement("div",{className:v.default.col4},a.default.createElement("span",{className:v.default.footerMainHeader},"Unsplash"),a.default.createElement("p",{className:v.default.footerMainParagraph},"Beautiful,"," ",a.default.createElement(u.default,{to:"/license",rel:"nofollow"},"free images")," ","gifted by the world’s most generous community of photographers.")),a.default.createElement("div",{className:v.default.offset1}),e?this.renderInfoLinks():this.renderInfoLinksLoggedOut(),e?this.renderConnectLinks():this.renderTrendingPhotosLoggedOut(),e?this.renderWhatsNewLinks():this.renderWallpapersLoggedOut()))},t.prototype.renderInfoLinks=function(){var e=this;return a.default.createElement("div",{className:v.default.col2},a.default.createElement("span",{className:v.default.footerMainHeader},"Info"),a.default.createElement("ul",{className:(0,c.default)(v.default.footerMainNav,"list-unstyled")},y.LOGGED_IN_INFO_LINKS.map(function(t){return a.default.createElement("li",{className:v.default.footerMainNavItem,key:t.title},e.renderLink(t))})))},t.prototype.renderInfoLinksLoggedOut=function(){var e=this;return a.default.createElement("div",{className:v.default.col2},a.default.createElement("span",{className:v.default.footerMainHeader},"Info"),a.default.createElement("ul",{className:(0,c.default)(v.default.footerMainNav,"list-unstyled")},y.LOGGED_OUT_INFO_LINKS.map(function(t){return a.default.createElement("li",{className:v.default.footerMainNavItem,key:t.title},e.renderLink(t))})))},t.prototype.renderConnectLinks=function(){var e=this;return a.default.createElement("div",{className:v.default.col2},a.default.createElement("span",{className:v.default.footerMainHeader},"Connect"),a.default.createElement("ul",{className:(0,c.default)(v.default.footerMainNav,"list-unstyled")},y.CONNECT_LINKS.map(function(t){return a.default.createElement("li",{className:v.default.footerMainNavItem,key:t.title},e.renderLink(t))})))},t.prototype.renderTrendingPhotosLoggedOut=function(){var e=this;return a.default.createElement("div",{className:v.default.col3},a.default.createElement("span",{className:v.default.footerMainHeader},"Trending Searches"),a.default.createElement("ul",{className:(0,c.default)(v.default.footerMainNav,"list-unstyled")},y.TRENDING_LINKS.map(function(t){return a.default.createElement("li",{className:v.default.footerMainNavItem,key:t.title},e.renderLink(t))})))},t.prototype.renderWhatsNewLinks=function(){var e=this;return a.default.createElement("div",{className:v.default.col3},a.default.createElement("span",{className:v.default.footerMainHeader},"What’s New"),a.default.createElement("ul",{className:(0,c.default)(v.default.footerMainNav,"list-unstyled")},y.WHATS_NEW_LINKS.map(function(t){return a.default.createElement("li",{className:v.default.footerMainNavItem,key:t.title},e.renderLink(t))})))},t.prototype.renderWallpapersLoggedOut=function(){var e=this;return a.default.createElement("div",{className:v.default.col2},a.default.createElement("span",{className:v.default.footerMainHeader},"Wallpapers"),a.default.createElement("ul",{className:(0,c.default)(v.default.footerMainNav,"list-unstyled")},y.WALLPAPER_LINKS.map(function(t){return a.default.createElement("li",{className:v.default.footerMainNavItem,key:t.title},e.renderRouterLink(t))})))},t.prototype.renderRouterLink=function(e){var t=e.title,o=e.url,n=e.noFollow,r=void 0!==n&&n;return a.default.createElement(u.default,{to:o,rel:r?"nofollow":void 0},t)},t.prototype.renderLink=function(e){var t=e.title,o=e.url,n=e.noFollow,r=void 0!==n&&n,l=e.externalLink,i=void 0!==l&&l,u=i?(0,d.trackUrl)(o):o;return a.default.createElement("a",{href:u,rel:r?"nofollow":void 0},t)},t.prototype.renderFooterSub=function(){var e=this.props.isLoggedIn;return a.default.createElement("div",{className:v.default.footerSub},a.default.createElement("div",{className:v.default.col6},a.default.createElement(u.default,{to:"/",title:"Home — Unsplash",className:v.default.footerSubLogoLink},a.default.createElement(m.default,{type:"logo",className:v.default.footerSubLogo})),a.default.createElement("span",{className:v.default.footerSlogan},"Make something awesome.")),a.default.createElement("div",{className:v.default.footerRightSide},e?null:this.renderSocialIcons()))},t.prototype.renderSocialLink=function(e){var t=(0,p.getSocialData)(e),o=(0,d.trackUrl)(t.url);return a.default.createElement("li",{className:v.default.socialLink},a.default.createElement("a",{title:"Follow Unsplash on "+t.label,target:"_blank",rel:"noopener noreferrer",href:o},a.default.createElement(m.default,{className:v.default.socialIcon,type:t.icon,width:24,height:24}),a.default.createElement("span",{className:v.default.socialText},"Unsplash ",t.label)))},t.prototype.renderSocialIcons=function(){return a.default.createElement("div",null,a.default.createElement("ul",{className:v.default.socialLinksContainer},this.renderSocialLink("twitter"),this.renderSocialLink("facebook"),this.renderSocialLink("medium"),this.renderSocialLink("instagram")))},t.prototype.render=function(){return a.default.createElement("footer",{className:v.default.footerGlobal},this.renderFooterMain(),this.renderFooterSub())},t}(r.Component);t.Footer=w;var g=function(e){return{isLoggedIn:(0,f.getIsLoggedIn)(e)}};t.default=(0,l.connect)(g)(w),w.propTypes=P},1418:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.SUPPORT_EMAIL="mailto:support@unsplash.com?subject=Where%20have%20you%20been%20all%20my%20life%3F";t.LOGGED_IN_INFO_LINKS=[{title:"Contact Us",url:n,nofollow:!0},{title:"HD Wallpapers",url:"/wallpaper"},{title:"Explore",url:"/explore"},{title:"Privacy Policy",url:"/privacy"},{title:"Terms",url:"/terms",nofollow:!0},{title:"Security",url:"/security",nofollow:!0},{title:"Developers/API",url:"/developers"},{title:"Help",url:"https://community.unsplash.com/help",nofollow:!0}],t.LOGGED_OUT_INFO_LINKS=[{title:"Explore",url:"/explore"},{title:"Popular Collections",url:"/explore/collections"},{title:"Wallpaper",url:"/wallpaper"},{title:"Unsplash for Chrome",url:"https://instant.unsplash.com/",nofollow:!0,externalLink:!0},{title:"Privacy Policy",url:"/privacy",nofollow:!0},{title:"Terms",url:"/terms",nofollow:!0},{title:"Security",url:"/security",nofollow:!0},{title:"Developers/API",url:"/developers"},{title:"Contact Us",url:n},{title:"Help",url:"https://community.unsplash.com/help",nofollow:!0,externalLink:!0}],t.CONNECT_LINKS=[{title:"Twitter",url:"https://twitter.com/unsplash",externalLink:!0},{title:"Facebook",url:"https://facebook.com/unsplash",externalLink:!0},{title:"Medium",url:"https://medium.com/unsplash-unfiltered",externalLink:!0},{title:"Instagram",url:"https://instagram.com/unsplash",externalLink:!0}],t.TRENDING_LINKS=[{title:"Love pictures",url:"/search/photos/love"},{title:"Dog pictures",url:"/search/photos/dog"},{title:"Cat pictures",url:"/search/photos/cat"},{title:"Beach pictures",url:"/search/photos/beach"},{title:"White backgrounds",url:"/collections/1127156/white-background"},{title:"Happy Thanksgiving images",url:"/search/photos/happy-thanksgiving"},{title:"Happy Mother's Day images",url:"/search/photos/happy-mothers-day"},{title:"Happy New Year images",url:"/search/photos/happy-new-year"},{title:"Happy birthday images",url:"/search/photos/happy-birthday"}],t.WHATS_NEW_LINKS=[{title:"Hello, Unsplash, Inc.",url:"https://medium.com/unsplash-unfiltered/hello-unsplash-inc-ce02b1c79d23",noFollow:!0,externalLink:!0},{title:"Unsplash turns 3",url:"https://1095.unsplash.com/",noFollow:!0,externalLink:!0},{title:"Buy the Unsplash Book",url:"https://book.unsplash.com/",noFollow:!0,externalLink:!0},{title:"Unsplash Filters for Polarr",url:"https://unsplash.polarr.co/",noFollow:!0,externalLink:!0},{title:"Unsplash 4.0 Release",url:"https://medium.com/swlh/announcing-unsplash-4-0-3421b47d8f88",noFollow:!0,externalLink:!0},{title:"Unsplash Instant for Chrome",url:"https://instant.unsplash.com/",noFollow:!0,externalLink:!0},{title:"Unsplash Book Kickstarter",url:"https://www.kickstarter.com/projects/mikaelcho/the-unsplash-book",noFollow:!0,externalLink:!0},{title:"Unsplash Source",url:"https://source.unsplash.com/",noFollow:!0,externalLink:!0}],t.WALLPAPER_LINKS=[{title:"Cool Wallpapers",url:"/wallpaper/1111678/cool-wallpapers"},{title:"Cute Wallpapers",url:"/wallpaper/1111680/cute-wallpapers"},{title:"iPhone Wallpaper",url:"/wallpaper/1065412/iphone-wallpapers"},{title:"HD Wallpapers",url:"/wallpaper/1065976/hd-wallpapers"},{title:"Christmas Wallpaper",url:"/wallpaper/1066273/christmas-wallpapers"},{title:"Tumblr Wallpaper",url:"/wallpaper/1111644/tumblr-wallpapers"},{title:"Black Wallpapers",url:"/wallpaper/1101680/black-wallpapers"},{title:"Galaxy Wallpapers",url:"/wallpaper/1065374/galaxy-wallpapers"}]},1419:function(e,t){e.exports={container:"_2sCnE PrOBO _1CR66","sm-col":"_6_Gu-","sm-col-2":"_1F-RO","sm-col-4":"q9lsa","sm-col-6":"_2cVF0","md-col-1":"_1yU51","md-col-3":"_2-VcX",clearfix:"_2KLco","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",colorGrey:"#999",colorLightBlack:"#111",srOnly:"yTo5z",fontWeightBold:"_2svCU",textAlignRight:"_2Zq11",footerGlobal:"_1f2gP _2sCnE PrOBO _1CR66",footerMainHeader:"_1vshC _2svCU",footerMainParagraph:"lTb2N",footerMainNav:"nl-Wg",footerMainNavItem:"_2p2mU",footerSub:"h2R3j",footerSubLogoLink:"_1A2Ps",footerSubLogo:"QFeEP",linkContainer:"_2AHtx _2KLco",offset1:"_2gSuc _6_Gu- _1yU51",col2:"PF9-h _6_Gu- _1F-RO",col3:"epbR2 _6_Gu- q9lsa _2-VcX",col4:"zlQ8t _6_Gu- q9lsa",col6:"_1ueWY _6_Gu- _2cVF0",footerRightSide:"_15aci _6_Gu- _2cVF0 _2Zq11",socialLinksContainer:"hz0ls",socialLink:"_1btLB",socialIcon:"_9BPpr",socialText:"_2L0Iv yTo5z"}},1420:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1421);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1421:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FollowButton=void 0;var r=o(1),a=n(r),l=o(9),i=o(42),u=n(i),s=o(10),c=n(s),d=o(18);o(490),o(491),o(492);var p=o(59),f=n(p),h=o(21),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(h),y=o(47),_=o(53),v=n(_),b=o(29),P=n(b),w=o(1422),g=n(w),T=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),k=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},O={selectedUser:r.PropTypes.object.isRequired,authUser:r.PropTypes.object,location:r.PropTypes.object,className:r.PropTypes.string,redirectAfterFollow:r.PropTypes.bool,trackFollowButtonClick:r.PropTypes.func.isRequired,trackUnfollowButtonClick:r.PropTypes.func.isRequired,followUser:r.PropTypes.func.isRequired,unfollowUser:r.PropTypes.func.isRequired,labelText:r.PropTypes.shape({isFollowing:r.PropTypes.string.isRequired,isNotFollowing:r.PropTypes.string.isRequired}),buttonType:r.PropTypes.string},E={labelText:{isFollowing:"Following",isNotFollowing:"Follow"}},C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.prototype.componentWillUnmount=function(){this.followSubscription&&this.followSubscription.unsubscribe()},t.prototype.getLabelText=function(){var e=this.props.labelText;return this.props.selectedUser.followed_by_user?e.isFollowing:e.isNotFollowing},t.prototype.buildToLink=function(){var e=this.props,t=e.authUser,o=e.location,n=t?o.query:Object.assign({},o.query,{login_view:"is_visible",login_action:"follow"});return{pathname:o.pathname,query:n,state:o.state}},t.prototype.buildClickHandler=function(){var e=this,t=this.props,o=t.authUser,n=t.selectedUser,r=t.followUser,a=t.unfollowUser,l=t.trackFollowButtonClick,i=t.trackUnfollowButtonClick,u=t.buttonType;if(!o)return function(){return l(n.id,u)};var s=n.username,c=n.followed_by_user,p=c?f.default.custom.unfollowUser:f.default.custom.followUser,h=d.Observable.defer(function(){return p(s)}).retry(3).take(1);return function(t){t.stopPropagation(),c?(a(n.id),i(n.id,u)):(r(n.id),l(n.id,u)),e.followSubscription=h.subscribe()}},t.prototype.renderContainer=function(e){var t=this.props,o=t.selectedUser,n=t.className,r=t.redirectAfterFollow,l=t.authUser,i=this.buildClickHandler(),u=o.followed_by_user,s=!l,d=r||s,p={className:(0,c.default)(g.default.followButton,u&&g.default.isFollowing,n),buttonSize:"small"};return d?a.default.createElement(v.default,k({tag:"link",to:this.buildToLink(),onMouseUp:i},p),e):a.default.createElement(v.default,k({tag:"button",onMouseUp:i},p),e)},t.prototype.render=function(){var e=this.props,t=e.selectedUser,o=e.authUser;return(0,u.default)(o,"username")===t.username?a.default.createElement("div",null):this.renderContainer(a.default.createElement("span",null,a.default.createElement(P.default,{type:"follow",className:g.default.followIcon}),this.getLabelText()))},t}(r.Component);t.FollowButton=C,C.displayName="FollowButton",C.propTypes=O,C.defaultProps=E;var N=function(e){return{authUser:(0,y.getAuthUser)(e)}},L={trackFollowButtonClick:m.trackFollowButtonClick,trackUnfollowButtonClick:m.trackUnfollowButtonClick,followUser:m.followUser,unfollowUser:m.unfollowUser};t.default=(0,l.connect)(N,L)(C)},1422:function(e,t){e.exports={colorWhite:"#fff",colorLightGrey:"#ddd",colorGrey:"#999",colorDarkGrey:"#777",colorBlue:"#007fff",colorDarkBlue:"#006aff",colorBlack:"#000",followButton:"_3nDcb",isFollowing:"_2br-F",followIcon:"_2BKrY"}},1423:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1444);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1424:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1446);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1425:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1448);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1426:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SEARCH_DELAY=600,t.SEARCH_TRACKING_DELAY=2500,t.CARD_HOVER_DELAY=500},1427:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1428);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1428:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserResultCard=void 0;var r=o(1),a=n(r),l=o(9),i=o(10),u=n(i),s=o(42),c=n(s),d=o(58),p=n(d),f=o(47),h=o(41),m=o(12),y=o(60),_=o(1420),v=n(_),b=o(1429),P=n(b),w=o(189),g=n(w),T=o(1432),k=n(T),O={children:r.PropTypes.element,user:r.PropTypes.object.isRequired,photos:r.PropTypes.array,authUser:r.PropTypes.object,withinContainer:r.PropTypes.bool,withFollowButton:r.PropTypes.bool},E=t.UserResultCard=function(e){var t=e.user,o=e.photos,n=e.authUser,r=e.withinContainer,l=e.withFollowButton,i=e.children,s=!!t.total_photos,d=s&&(0,y.range)(3).map(function(e){return a.default.createElement(P.default,{key:e,photo:(0,c.default)(o,e)})}),f=l&&n&&n.id!==t.id;return a.default.createElement("div",{className:(0,u.default)(k.default.cardLink,r&&k.default.withinContainer)},a.default.createElement(p.default,{className:k.default.container,to:{pathname:(0,h.buildUserUrl)(t)},onClick:function(){return window.scrollTo(0,0)}},a.default.createElement("div",{className:k.default.topContainer},a.default.createElement("div",{className:k.default.userAvatarContainer},a.default.createElement(g.default,{className:k.default.avatar,user:t,avatarSize:w.AvatarSize.medium,disableLink:!0})),a.default.createElement("div",{className:k.default.userInfoContainer},a.default.createElement("h1",{className:k.default.userName},t.name),a.default.createElement("p",{className:k.default.userHandle},"@"+t.username))),s&&a.default.createElement("div",{className:k.default.bottomContainer},d)),f&&a.default.createElement("div",{className:k.default.followButtonContainer},a.default.createElement(v.default,{selectedUser:t,className:k.default.followButton})),i)};E.displayName="UserResultCard",E.propTypes=O;var C=function(e,t){return{authUser:(0,f.getAuthUser)(e),photos:(0,y.pickValues)((0,m.getPhotosById)(e),t.user.photoIds)||t.user.photos}};t.default=(0,l.connect)(C)(E)},1429:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1430);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1430:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),l=o(42),i=n(l),u=o(10),s=n(u),c=o(20),d=o(1431),p=n(d),f={photo:r.PropTypes.object,darker:r.PropTypes.bool.isRequired},h={darker:!1},m=function(e){var t=e.photo,o=e.darker,n=(0,i.default)(t,"urls.thumb"),r=(0,i.default)(t,"color");return a.default.createElement("div",{className:(0,s.default)(p.default.photoThumbContainer,o?p.default.photoThumbContainerDark:p.default.photoThumbContainerLight),style:t&&{backgroundColor:r}},a.default.createElement("div",{className:p.default.photoThumb,style:t&&{backgroundImage:(0,c.urlToBackgroundImage)(n)}}))};m.propTypes=f,m.defaultProps=h,t.default=m},1431:function(e,t){e.exports={colors:'"styles/Colors.css"',colorDarkWhite:"#f5f5f5",colorLightGrey:"#ddd",photoThumbContainer:"_1BiZr",photoThumbContainerLight:"_1QflV",photoThumbContainerDark:"_3mBAu",photoThumb:"_2te-4"}},1432:function(e,t){e.exports={clearfix:"_2TNYr","sm-col":"_6_Gu-","sm-col-6":"_2cVF0","md-col-4":"_1hITE",px2:"_2DKvn",floatLeft:"_2T3hc","--sm-min":"(--sm-min)",colorDarkWhite:"#f5f5f5",colorLightGrey:"#ddd",colorGrey:"#999",colorLightBlack:"#111",truncate:"_1ByhS",textDecorationNone:"_1CBrG",spacingBase:"16px",avatarSize:"64px",grid:"_15FGY _6_Gu- _2cVF0 _1hITE _2DKvn",cardLink:"_3x_oL",withinContainer:"_3eFB8",container:"_2Twi2 _1CBrG",topContainer:"_2Em44 _2TNYr",userAvatarContainer:"_6jh8j _2T3hc",avatar:"_2ogcu",userInfoContainer:"_3_xrB",userName:"_2_qf1 _1ByhS",userHandle:"_1l0oJ _1ByhS",bottomContainer:"_1dc02",followButtonContainer:"_3u1LW",followButton:"_1TZOC"}},1433:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1435);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1434:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),l=o(10),i=n(l),u=o(58),s=n(u),c=o(279),d=o(41),p=o(1415),f=n(p),h=o(1426),m=o(189),y=n(m),_=o(1433),v=n(_),b=o(1437),P=n(b),w={user:r.PropTypes.object.isRequired,type:r.PropTypes.oneOf(["default","alt","emphasiseUsername"]),secondaryLink:r.PropTypes.shape({label:r.PropTypes.string.isRequired,href:r.PropTypes.string.isRequired}),includeAvatar:r.PropTypes.bool,inline:r.PropTypes.bool,isInFollowingFeed:r.PropTypes.bool,children:r.PropTypes.node},g={type:"default",includeAvatar:!1},T=(0,f.default)(v.default),k=function(e){var t=e.user,o=e.type,n=e.secondaryLink,r=e.children,l=e.includeAvatar,u=e.inline,c=e.isInFollowingFeed,p=function(){switch(o){case"default":return[];case"alt":return[P.default.alt];case"emphasiseUsername":return[P.default.mainLinkEmphasiseUsernameType,P.default.linkEmphasiseUsernameType]}}(),f=function(){switch(o){case"alt":return P.default.alt;case"emphasiseUsername":return P.default.linkEmphasiseUsernameType}}();return a.default.createElement("span",{className:P.default.container},l&&a.default.createElement(T,{user:t,delay:h.CARD_HOVER_DELAY,wrapperClassName:P.default.avatarContainer},a.default.createElement(y.default,{user:t,className:P.default.avatar})),a.default.createElement("div",{className:(0,i.default)(P.default.linkContainer,u&&P.default.inlineContainer,c&&P.default.feedContainer)},a.default.createElement(T,{user:t,delay:h.CARD_HOVER_DELAY},a.default.createElement(s.default,{to:{pathname:(0,d.buildUserUrl)(t)},className:(0,i.default)(P.default.name,p,(m={},m[P.default.centerName]=!n,m[P.default.inlineLink]=u,m))},r||t.name),n?a.default.createElement("a",{href:n.href,className:(0,i.default)(P.default.name,f,(_={},_[P.default.secondaryLink]=n,_))},n.label):null)));var m,_};k.propTypes=w,t.default=(0,c.withDefaults)(k,g)},1435:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),l=o(9),i=o(59),u=n(i),s=o(61),c=o(97),d=o(21),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(d),f=o(47),h=o(20),m=o(495),y=n(m),_=o(1427),v=n(_),b=o(1436),P=n(b),w=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g={user:r.PropTypes.object.isRequired,authUser:r.PropTypes.object,updateData:r.PropTypes.func.isRequired},T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.render=function(){var e=this.props,t=e.user,o=e.updateData,n=e.authUser;return(0,h.checkUserIsEnhanced)({user:t,authUser:n})?a.default.createElement(y.default,{className:P.default.cardTooltip},a.default.createElement(v.default,{withinContainer:!0,withFollowButton:!0,user:t,actions:p})):(u.default.users.profile(t.username).then(s.handleApiFetchResponse).then((0,c.normalizeResponse)("user")).then(function(e){var t=e.entities;o(t)}),null)},t}(r.Component);T.displayName="UserDetailsCard",T.propTypes=g;var k=function(e){return{authUser:(0,f.getAuthUser)(e)}};t.default=(0,l.connect)(k,{updateData:p.updateData})(T)},1436:function(e,t){e.exports={cardTooltip:"wVee7"}},1437:function(e,t){e.exports={hoverTransition:"_3XJBh",colorWhite:"#fff",truncate:"_1ByhS",textDecorationNone:"_1CBrG",container:"_2aPXR",avatarContainer:"JRtMq",avatar:"qNcZ0",linkContainer:"_80uCh",name:"_3XzpS _1ByhS",centerName:"_2zITg",secondaryLink:"NRFpG _1ByhS",alt:"_1_w0v _3XJBh _1CBrG",mainLinkEmphasiseUsernameType:"_1O9Y0",linkEmphasiseUsernameType:"_3l__V _1CBrG",inlineContainer:"_3qohC",inlineLink:"_1ZT8D",feedContainer:"_3n7HL"}},1438:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reportPhotoImpressions=void 0;var r=o(1),a=n(r),l=o(9),i=o(1461),u=n(i),s=o(98),c=n(s),d=o(20),p=o(21),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(p),h=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},y=!0===c.default.get("ENABLE_PHOTO_IMPRESSIONS_TRACKING");t.reportPhotoImpressions=function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return h(o,t),o.prototype.reportImpression=function(e){if(e){var t=this.props,o=t.photo,n=t.position;(0,t.reportPhotoImpression)({photo:{id:o.id,position:n}})}},o.prototype.render=function(){var t=a.default.createElement(e,m({},this.props));return y&&d.isBrowser&&(0,d.checkSupportsIntersectionObservers)()?a.default.createElement(u.default,{onChange:this.reportImpression.bind(this),threshold:.5},t):t},o.displayName="WrappedReportPhotoImpressionsComponent",o}(r.Component),o={reportPhotoImpression:f.reportPhotoImpression};return(0,l.connect)(null,o)(t)}},1441:function(e,t,o){"use strict";function n(e){var t=e.downloadButtonXp,o=e.inFollowingFeed;return[l.VARIANTS.showArrow,l.VARIANTS.showBottomBar].includes(t)&&!o}function r(e){var t=u.safeLocalStorageHelpers.hasItem(i.HAS_DOWNLOADED_A_PHOTO),o=e.downloadButtonXp===l.VARIANTS.showArrow;return n(e)&&o&&!t}function a(e){var t=e.downloadButtonXp,o=e.inFollowingFeed;return t===l.VARIANTS.showWord&&!o}Object.defineProperty(t,"__esModule",{value:!0}),t.checkHasWorkingHover=t.ActionsModes=t.ActionsStates=void 0,t.checkShouldShowDownloadButton=n,t.checkShouldShowTooltip=r,t.checkShouldShowLabel=a;var l=o(494),i=o(493),u=o(20),s=t.ActionsStates=void 0;!function(e){e.All="All",e.AddToCollectionButton="AddToCollectionButton",e.AddToCollectionButtonAndPhotographerInfo="AddToCollectionButtonAndPhotographerInfo",e.DownloadButton="DownloadButton"}(t.ActionsStates=s=s||(t.ActionsStates=s={}));var c=t.ActionsModes=void 0;!function(e){e.All="All",e.CollectionsOnboarding="CollectionsOnboarding"}(t.ActionsModes=c=c||(t.ActionsModes=c={}));var d=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream};t.checkHasWorkingHover=function(){return!d()}},1442:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1443);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1443:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SmallPhoto=void 0;var r=o(1),a=n(r),l=o(9),i=o(10),u=n(i),s=o(58),c=n(s),d=o(143),p=n(d),f=o(20),h=o(190),m=o(41),y=o(282),_=o(96),v=o(141),b=o(279),P=o(1414),w=n(P),g=o(1423),T=n(g),k=o(1424),O=n(k),E=o(1425),C=n(E),N=o(1451),L=n(N),M=o(1441),S=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),B={inFollowingFeed:!1,shouldIncludeLink:!0,actionsMode:M.ActionsModes.All},A=function(e){function t(t){var o=e.call(this,t)||this;return o.handleMouseMove=o.handleMouseMove.bind(o),o.handleMouseLeave=o.handleMouseLeave.bind(o),o.state={isHovering:!1},o}return S(t,e),t.prototype.getActionsState=function(){var e=this.state.isHovering,t=this.props,o=t.actionsMode,n=t.jsLoaded,r=t.downloadButtonXp,a=t.inFollowingFeed,l=(0,M.checkShouldShowDownloadButton)({downloadButtonXp:r,inFollowingFeed:a});switch(o){case M.ActionsModes.CollectionsOnboarding:return e||!n?M.ActionsStates.AddToCollectionButtonAndPhotographerInfo:M.ActionsStates.AddToCollectionButton;case M.ActionsModes.All:return e||!n?M.ActionsStates.All:l&&!e?M.ActionsStates.DownloadButton:void 0}},t.prototype.handleMouseMove=function(){(0,M.checkHasWorkingHover)()&&!this.state.isHovering&&this.setState({isHovering:!0})},t.prototype.handleMouseLeave=function(){this.setState({isHovering:!1})},t.prototype.renderPhotoInfo=function(){var e=this.props,t=e.photo,o=e.linkTo,n=e.windowWidth,r=e.location,l=e.imageUrl,i=e.showPhotoInfoOnHover,s=e.shouldIncludeLink,d=!(0,h.checkIsPhone)(n);return a.default.createElement("div",{className:(0,u.default)(L.default.photoInfo,void 0!==this.getActionsState()&&L.default.photoInfoIsShown),onMouseMove:d?this.handleMouseMove:void 0,onMouseLeave:d?this.handleMouseLeave:void 0},s&&a.default.createElement(c.default,{title:"View the photo by "+t.user.name,to:o||(0,m.buildPhotoLink)(t,r,n,{initialSrc:l}),className:L.default.photoInfoLink}),i&&this.renderActions())},t.prototype.renderLikeButton=function(){var e=this.props,t=e.location,o=e.photo;return a.default.createElement(T.default,{type:"alt",location:t,photo:o})},t.prototype.renderAddToCollectionButton=function(){var e=this.props,t=e.location,o=e.photo;return a.default.createElement("div",{className:L.default.addToCollectionButtonContainer},a.default.createElement(C.default,{className:L.default.collectionButton,type:"alt",photo:o,location:t}))},t.prototype.renderDownloadButton=function(){var e=this.props,t=e.photo,o=e.downloadButtonXp,n=e.inFollowingFeed,r=(0,M.checkShouldShowTooltip)({downloadButtonXp:o,inFollowingFeed:n}),l=(0,M.checkShouldShowLabel)({downloadButtonXp:o,inFollowingFeed:n});return a.default.createElement("div",{className:L.default.buttonDownloadContainer},a.default.createElement(O.default,{type:"alt",photo:t,showLabel:l,showTooltip:r}))},t.prototype.renderUserLink=function(){var e=this.props.photo.user;return a.default.createElement("div",{className:L.default.userContainer},a.default.createElement(w.default,{includeAvatar:!0,user:e,type:"alt"}))},t.prototype.renderTopActions=function(){switch(this.getActionsState()){case M.ActionsStates.AddToCollectionButton:case M.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return a.default.createElement("div",{className:L.default.actionsTop},this.renderAddToCollectionButton());case M.ActionsStates.All:return a.default.createElement("div",{className:L.default.actionsTop},this.renderLikeButton(),this.renderAddToCollectionButton());case M.ActionsStates.DownloadButton:case void 0:return}},t.prototype.renderBottomActions=function(){switch(this.getActionsState()){case M.ActionsStates.All:return a.default.createElement("div",{className:L.default.actionsBottom},this.renderUserLink(),this.renderDownloadButton());case M.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return a.default.createElement("div",{className:L.default.actionsBottom},this.renderUserLink());case M.ActionsStates.DownloadButton:return a.default.createElement("div",{className:L.default.actionsBottom},this.renderDownloadButton());case M.ActionsStates.AddToCollectionButton:case void 0:return}},t.prototype.renderActions=function(){return void 0!==this.getActionsState()?a.default.createElement("div",null,this.renderTopActions(),this.renderBottomActions()):null},t.prototype.renderImage=function(){var e=this,t=this.props,o=t.photo,n=t.width,r=t.height,l=t.imageUrl,i=t.fillWidth,s=t.children,c=t.followingFeedClassName,d=t.inFollowingFeed,h=t.photoRef,m={backgroundImage:(0,f.urlToBackgroundImage)(l),backgroundColor:o.color,backgroundSize:"cover",width:i?"100%":n,height:r};return a.default.createElement("div",{style:d?m:{},className:(0,u.default)(d&&(0,u.default)(L.default.photo,c))},!d&&a.default.createElement("img",{alt:o.description||void 0,src:l,ref:function(t){(0,p.default)(h)&&h(t),e.linkElem=t},className:L.default.imgPhoto,style:{width:i?"100%":n,height:r}}),s)},t.prototype.render=function(){var e=this.props.containerClassName;return a.default.createElement("div",{className:(0,u.default)(L.default.container,e)},this.renderImage(),this.renderPhotoInfo())},t.displayName="SmallPhoto",t}(r.PureComponent);t.SmallPhoto=A;var I=function(e,t){return{jsLoaded:(0,y.getJsLoaded)(e),windowWidth:(0,_.getWindowWidth)(e),downloadButtonXp:(0,v.getDownloadButtonXp)(e)}};t.default=(0,b.withDefaults)((0,l.connect)(I)(A),B)},1444:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LikeButton=void 0;var r=o(1),a=n(r),l=o(9),i=o(10),u=n(i),s=o(47),c=o(21),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(c),p=o(18);o(490),o(491),o(492);var f=o(59),h=n(f),m=o(53),y=n(m),_=o(29),v=n(_),b=o(1445),P=n(b),w=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g={type:r.PropTypes.oneOf(["default","alt"]),photo:r.PropTypes.object.isRequired,location:r.PropTypes.object.isRequired,className:r.PropTypes.string,authUser:r.PropTypes.object,trackPhotoUnlike:r.PropTypes.func.isRequired,trackPhotoLike:r.PropTypes.func.isRequired,unlikePhoto:r.PropTypes.func.isRequired,likePhoto:r.PropTypes.func.isRequired,setSelectedPhoto:r.PropTypes.func.isRequired},T={type:"default"},k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.componentWillUnmount=function(){this.likesSubscription&&this.likesSubscription.unsubscribe()},t.prototype.buildToLink=function(){var e=this.props,t=e.authUser,o=e.location,n=e.photo;return t?{pathname:o.pathname,query:o.query,state:o.state}:{pathname:o.pathname,query:Object.assign({},o.query,{login_view:"is_visible",login_action:"like",login_from_photo:n.id}),state:o.state}},t.prototype.isLikedModifier=function(){var e=this.props,t=e.photo,o=e.type,n="default"===o?"outline":"outline-alt";return t.liked_by_user?"pink":n},t.prototype.buildClickHandler=function(){var e=this,t=this.props,o=t.photo,n=t.trackPhotoUnlike,r=t.trackPhotoLike,a=t.unlikePhoto,l=t.likePhoto,i=o.liked_by_user,u=i?h.default.photos.unlikePhoto:h.default.photos.likePhoto,s=i?n:r,c=i?a:l,d=p.Observable.defer(function(){return u(o.id)}).retry(3);return function(t){t.preventDefault(),c(o.id),s(o),e.likesSubscription=d.subscribe()}},t.prototype.renderLikesLabel=function(){var e=this.props.photo;return e.likes?a.default.createElement("span",{className:P.default.labelLike},e.likes):a.default.createElement("span",null)},t.prototype.render=function(){var e=this.props,t=e.photo,o=e.setSelectedPhoto,n=e.trackPhotoLike,r=e.className,l=e.authUser,i=l?this.buildClickHandler():function(){o({id:t.id}),n(t)};return a.default.createElement(y.default,{className:(0,u.default)(P.default.buttonLike,r),buttonType:this.isLikedModifier(),tag:"link",title:"Like photo",buttonSize:"small",to:this.buildToLink(),onClick:i},a.default.createElement("span",null,a.default.createElement(v.default,{type:"heart",className:(0,u.default)(P.default.likeIcon,(s={},s[P.default.likeIconLiked]=t.liked_by_user,s))}),this.renderLikesLabel()));var s},t}(r.Component);t.LikeButton=k,k.displayName="LikeButton",k.propTypes=g,k.defaultProps=T;var O=function(e){return{authUser:(0,s.getAuthUser)(e)}},E={trackPhotoUnlike:d.trackPhotoUnlike,trackPhotoLike:d.trackPhotoLike,unlikePhoto:d.unlikePhoto,likePhoto:d.likePhoto,setSelectedPhoto:d.setSelectedPhoto};t.default=(0,l.connect)(O,E)(k)},1445:function(e,t){e.exports={floatLeft:"_2T3hc",colorPink:"#f15151",colorWhite:"#fff",likeIcon:"BWSrD _2T3hc",likeIconLiked:"_1O_YD",labelLike:"_2ER2Y _2T3hc"}},1446:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadButton=void 0;var r=o(1),a=n(r),l=o(9),i=o(10),u=n(i),s=o(21),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(s),d=o(281),p=o(493),f=o(20),h=o(1415),m=n(h),y=o(53),_=n(y),v=o(29),b=n(v),P=o(495),w=n(P),g=o(1447),T=n(g),k={photo:r.PropTypes.object.isRequired,type:r.PropTypes.oneOf(["default","alt","green"]),showLabel:r.PropTypes.bool,showTooltip:r.PropTypes.bool,className:r.PropTypes.string,trackPhotoDownloadButtonClick:r.PropTypes.func.isRequired,showFixedBottomCard:r.PropTypes.func.isRequired,hideDownloadBottomBar:r.PropTypes.func.isRequired,label:r.PropTypes.string},O={type:"default",label:"Download"},E=t.DownloadButton=function(e){var t=e.photo,o=e.trackPhotoDownloadButtonClick,n=e.type,r=e.showLabel,l=e.showTooltip,i=e.className,s=e.showFixedBottomCard,c=e.hideDownloadBottomBar,h=e.label,y=function(){o(t),c(),f.safeLocalStorage.setItem(p.HAS_DOWNLOADED_A_PHOTO,""+!0);var e=new d.SayThanksCard(t.id);s(e)},v=r&&a.default.createElement("span",{className:T.default.label},h),P=a.default.createElement(b.default,{type:"download",className:(0,u.default)(T.default.downloadIcon,(E={},E[T.default.labelIcon]=r,E))}),g=function(){return a.default.createElement(w.default,{className:T.default.tooltip,tipPositionClassName:T.default.tooltipAnchorRight},a.default.createElement("div",{className:T.default.tooltipContents},"Click the ↓ to download this photo for free."))},k=(0,m.default)(g),O=function(){switch(n){case"default":return"outline";case"alt":return"outline-alt";case"green":return"green"}}();return a.default.createElement(_.default,{className:(0,u.default)(T.default.button,i),buttonType:O,buttonSize:"small",title:"Download photo",href:t.links.download+"?force=true",rel:"nofollow",download:!0,target:"_blank",track:y},a.default.createElement("span",null,l?a.default.createElement(k,null,P):P,v));var E};E.propTypes=k,E.defaultProps=O,E.displayName="DownloadButton";var C={trackPhotoDownloadButtonClick:c.trackPhotoDownloadButtonClick,showFixedBottomCard:c.showFixedBottomCard,hideDownloadBottomBar:c.hideDownloadBottomBar};t.default=(0,l.connect)(null,C)(E)},1447:function(e,t){e.exports={"--sm-min":"(--sm-min)",colorWhite:"#fff",colorLightBlack:"#111",button:"_1Tfeo",icon:"_11dQc",downloadIcon:"Apljk _11dQc",labelIcon:"_1Jd5C",label:"_2Aga-",tooltip:"_2wyvF",tooltipAnchorRight:"GMco6",tooltipContents:"_31KQ1"}},1448:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddToCollectionButton=void 0;var r=o(1),a=n(r),l=o(9),i=o(10),u=n(i),s=o(21),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(s),d=o(47),p=o(53),f=n(p),h=o(29),m=n(h),y=o(1449),_=o(1450),v=n(_),b={type:r.PropTypes.oneOf(["default","alt"]),photo:r.PropTypes.object.isRequired,setSelectedPhoto:r.PropTypes.func.isRequired,trackCollectionButtonClick:r.PropTypes.func.isRequired,location:r.PropTypes.object.isRequired,className:r.PropTypes.string,authUser:r.PropTypes.object,handleClick:r.PropTypes.func,children:r.PropTypes.node},P={type:"default"},w=t.AddToCollectionButton=function(e){var t=e.photo,o=e.setSelectedPhoto,n=e.trackCollectionButtonClick,r=e.location,l=e.type,i=e.className,s=e.authUser,c=e.handleClick,d=e.children,p="default"===l?"outline":"outline-alt";return a.default.createElement(f.default,{className:(0,u.default)(v.default.buttonCollections,i),buttonType:(0,y.inCollectionModifier)(p,t),buttonSize:"small",tag:"link",title:"Add to collection",to:(0,y.buildToLink)(s,r,t),onClick:function(){o({id:t.id}),n(t.id),c&&c()}},a.default.createElement(m.default,{type:"plus",className:v.default.addIcon}),a.default.createElement("span",{className:v.default.label},d,"Collect"))};w.displayName="AddToCollectionButton",w.propTypes=b,w.defaultProps=P;var g=function(e){return{authUser:(0,d.getAuthUser)(e)}},T={setSelectedPhoto:c.setSelectedPhoto,trackCollectionButtonClick:c.trackCollectionButtonClick};t.default=(0,l.connect)(g,T)(w)},1449:function(e,t,o){"use strict";function n(e,t,o){var n=e?Object.assign({},t.query,{add_to_collection_view:"is_visible"}):Object.assign({},t.query,{login_view:"is_visible",login_action:"add_to_collection",login_from_photo:o.id});return{pathname:t.pathname,query:n,state:t.state}}function r(e,t){return t.current_user_collections&&t.current_user_collections.length>0?"green":e}Object.defineProperty(t,"__esModule",{value:!0}),t.buildToLink=n,t.inCollectionModifier=r},1450:function(e,t){e.exports={floatLeft:"_2T3hc","--sm-min":"(--sm-min)",addIcon:"_2rdbO _2T3hc",label:"_1eyJo"}},1451:function(e,t){e.exports={floatLeft:"_2T3hc",floatRight:"_3pmDG","--sm-min":"(--sm-min)",colorPink:"#f15151",colorLightGrey:"#ddd",hoverTransition:"_3XJBh",container:"_3vgBX",photo:"_1hz5D",imgPhoto:"KW7g_ _1hz5D",photoInfo:"bQJ8Z",photoInfoIsShown:"_2j4gG",photoInfoLink:"_23lr1",actionsTop:"_2yfpM",actionsBottom:"_1a5YS",userContainer:"CpQi5 _2T3hc",buttonDownloadContainer:"_3i-Ef _3pmDG",addToCollectionButtonContainer:"_3W6mQ"}},1452:function(e,t){e.exports={floatLeft:"_2T3hc",floatRight:"_3pmDG","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",container:"y5w1y",photo:"cV68d",photoInfo:"hduMF",leftActions:"_31wG7 _2T3hc",rightActions:"_287Ma _3pmDG",user:"_114MZ",collectionButtonContainer:"_1XDiz",userLink:"_3isoq",userImageContainer:"_8p1N4 _2T3hc",userAvatar:"_1fYZF",userName:"_1imKo _2T3hc",userTopLink:"_1f9xN"}},1453:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1454);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1454:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedContainer=void 0;var r=o(1),a=n(r),l=o(9),i=o(21),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(i),s=o(1455),c=n(s),d=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p={setContentWidth:r.PropTypes.func.isRequired,children:r.PropTypes.element.isRequired},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.componentDidMount=function(){this.setContentWidth(),window.addEventListener("resize",this.handleResize.bind(this))},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize.bind(this))},t.prototype.setContentWidth=function(){var e=this.props.setContentWidth;this.elem&&e(this.elem.offsetWidth-24)},t.prototype.handleResize=function(){this.setContentWidth()},t.prototype.render=function(){var e=this,t=this.props.children;return a.default.createElement("div",{className:c.default.container,ref:function(t){e.elem=t}},t)},t}(r.Component);t.FeedContainer=f,f.propTypes=p;var h={setContentWidth:u.setContentWidth};t.default=(0,l.connect)(null,h)(f)},1455:function(e,t){e.exports={container:"Nqw-T _2sCnE PrOBO _1CR66"}},1457:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1458);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1458:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return void 0===e&&(e=0),void 0===t&&(t=[]),{totalHeight:e,photos:t}}function a(e){var t=0,o=e[0];return e.forEach(function(e,n){e.totalHeight<o.totalHeight&&(t=n,o=e)}),t}function l(e){return Array.from({length:e}).map(function(){return r()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Masonry=void 0;var i=o(1),u=n(i),s=o(9),c=o(10),d=n(c),p=o(21),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(p),h=o(96),m=o(141),y=o(494),_=o(190),v=o(1459),b=n(v),P=o(1465),w=o(1466),g=n(w),T=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),k={photos:i.PropTypes.array.isRequired,location:i.PropTypes.object.isRequired,smallPhotoProps:i.PropTypes.object,windowWidth:i.PropTypes.number,downloadButtonXp:i.PropTypes.oneOf(Object.keys(y.VARIANTS)),showDownloadBottomBar:i.PropTypes.func.isRequired,hideDownloadBottomBar:i.PropTypes.func.isRequired,shouldUseContainerPadding:i.PropTypes.bool},O={shouldUseContainerPadding:!0},E=function(e){function t(t){var o=e.call(this,t)||this;return o.state={gridCount:(0,_.checkIsPhoneOrTablet)(t.windowWidth)?2:3},o.renderGrid=o.renderGrid.bind(o),o}return T(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.downloadButtonXp,o=e.showDownloadBottomBar;(0,P.checkShouldShowDownloadBottomBar)(t)&&o()},t.prototype.componentWillUpdate=function(e){var t=this.props.windowWidth;e.windowWidth!==t&&((0,_.checkIsPhoneOrTablet)(e.windowWidth)?this.setState({gridCount:2}):this.setState({gridCount:3}))},t.prototype.componentWillUnmount=function(){this.props.hideDownloadBottomBar()},t.prototype.getGridData=function(e){var t=this.props.photos,o=l(e);return t.forEach(function(e){var t=o[a(o)];e.height&&e.width&&(t.totalHeight+=e.height/e.width,t.photos.push(e))}),o.map(function(e){return e.photos})},t.prototype.renderGrid=function(e,t){var o=this.props,n=o.location,r=o.photos,a=o.smallPhotoProps,l=this.state.gridCount;return u.default.createElement("div",{key:t,ref:"MasonryGrid"+t,className:(0,d.default)(g.default.Grid,3===l&&g.default.GridThree,2===l&&g.default.GridTwo,1===l&&g.default.GridOne)},e.map(function(e,t){var o=r.indexOf(e);return u.default.createElement(b.default,{smallPhotoProps:a,gridCount:l,photo:e,position:o,key:t,location:n})}))},t.prototype.render=function(){var e=this.state.gridCount,t=this.props.shouldUseContainerPadding,o=this.getGridData(e).map(this.renderGrid);return u.default.createElement("div",{id:"gridMulti",className:(0,d.default)(g.default.container,t&&g.default.containerWithPadding),"data-test":P.TEST_ATTRIBUTE},o)},t}(i.Component);t.Masonry=E,E.displayName="Masonry",E.propTypes=k,E.defaultProps=O;var C=function(e){return{windowWidth:(0,h.getWindowWidth)(e),downloadButtonXp:(0,m.getDownloadButtonXp)(e)}},N={showDownloadBottomBar:f.showDownloadBottomBar,hideDownloadBottomBar:f.hideDownloadBottomBar};t.default=(0,s.connect)(C,N)(E)},1459:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1460);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1460:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),l=o(9),i=o(123),u=o(498),s=o(60),c=o(1442),d=n(c),p=o(1438),f=o(1463),h=o(1464),m=n(h),y=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_={location:r.PropTypes.object.isRequired,smallPhotoProps:r.PropTypes.object,contentWidth:r.PropTypes.number,pixelRatio:r.PropTypes.number.isRequired,photo:r.PropTypes.object.isRequired,gridCount:r.PropTypes.number.isRequired},v=function(e){var t=e.smallPhotoProps,o=e.gridCount,n=e.location,r=e.contentWidth,l=e.pixelRatio,i=e.photo,u=Math.ceil(r/o-32),c=(0,s.getImageSizeAndImgixUrl)({photo:i,isMasonry:!0,parentWidth:u,pixelRatio:l}),p=c.imageUrl,h=c.imageWidth,_=c.imageHeight;return a.default.createElement("div",{className:m.default.photoContainer,"data-test":f.TEST_ATTRIBUTE},a.default.createElement(d.default,y({fillWidth:!0,showPhotoInfoOnHover:!0,width:h,height:_,imageUrl:p,photo:i,location:n},t)))};v.displayName="MasonryPhoto",v.propTypes=_;var b=function(e){return{contentWidth:(0,u.getContentWidth)(e),pixelRatio:(0,i.getPixelRatio)(e)}};t.default=(0,p.reportPhotoImpressions)((0,l.connect)(b)(v))},1461:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),c=(n(s),o(99)),d=n(c),p=o(1462),f=function(e){return"function"==typeof e},h=function(e){function t(){var e,o,n,r;a(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return o=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={inView:!1},n.node=null,n.handleNode=function(e){n.node&&(0,p.unobserve)(n.node),e&&(0,p.observe)(e,n.handleChange,n.props.threshold),n.node=e},n.handleChange=function(e){return n.setState({inView:e})},r=o,l(n,r)}return i(t,e),u(t,[{key:"componentWillUpdate",value:function(e,t){this.props.onChange&&t.inView!==this.state.inView&&(this.props.onChange(t.inView),t.inView&&e.unobserve)}},{key:"componentDidUpdate",value:function(e,t){t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&((0,p.unobserve)(this.node),this.node=null)}},{key:"componentWillUnmount",value:function(){this.node&&((0,p.unobserve)(this.node),this.node=null)}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.render,n=e.tag,a=(e.triggerOnce,e.threshold,r(e,["children","render","tag","triggerOnce","threshold"])),l=this.state.inView;return(0,s.createElement)(n,Object.assign({},a,{ref:this.handleNode}),l&&f(o)?o():null,f(t)?t(l):t)}}]),t}(s.Component);h.propTypes={tag:d.default.node,children:d.default.oneOfType([d.default.func,d.default.node]),triggerOnce:d.default.bool,threshold:d.default.number,onChange:d.default.func,render:d.default.func},h.defaultProps={tag:"div",threshold:0,triggerOnce:!1},t.default=h},1462:function(e,t,o){"use strict";function n(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&t){var n=i.get(o);n||(n=new IntersectionObserver(a,{threshold:o}),i.set(o,n)),l.set(e,{callback:t,visible:!1,threshold:o}),n.observe(e)}}function r(e){if(e){var t=l.get(e);if(t){l.delete(e);var o=i.get(t.threshold);o&&o.unobserve(e);var n=!1;l.forEach(function(e){e.threshold===t.threshold&&(n=!0)}),o&&!n&&(o.disconnect(),i.delete(t.threshold))}}}function a(e){e.forEach(function(e){if(l.has(e.target)){var t=e.isIntersecting,o=e.intersectionRatio,n=e.target,r=l.get(n),a=r.callback,i=r.visible,u=r.threshold,s=i?o>u:o>=u;void 0!==t&&(s=s&&t),l.set(n,{callback:a,visible:s,threshold:u}),a&&a(s)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.observe=n,t.unobserve=r;var l=new Map,i=new Map;t.default={observe:n,unobserve:r}},1463:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1464:function(e,t){e.exports={photoContainer:"_1pn7R"}},1465:function(e,t,o){"use strict";function n(e){var t=r.safeLocalStorageHelpers.hasItem(a.HAS_DOWNLOADED_A_PHOTO);return e===l.VARIANTS.showBottomBar&&!t}Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_ATTRIBUTE=void 0,t.checkShouldShowDownloadBottomBar=n;var r=o(20),a=o(493),l=o(494);t.TEST_ATTRIBUTE="photos-grid-view"},1466:function(e,t){e.exports={floatLeft:"_2T3hc","--sm-min":"(--sm-min)",clearfix:"_2TNYr",container:"_3_WtK _2TNYr",containerWithPadding:"_1C-lZ",Grid:"_1OvAL _2T3hc",GridThree:"_27nWV",GridTwo:"_1eGVY",GridOne:"_3nHtz"}},1478:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1479);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1479:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),l=o(1480),i=n(l),u=o(1485),s=n(u),c=o(1486),d={location:r.PropTypes.object.isRequired,photos:r.PropTypes.array},p=function(e){var t=e.location,o=e.photos;return a.default.createElement("div",{id:"gridSingle",className:s.default.container,"data-test":c.TEST_ATTRIBUTE},o.map(function(e,o){return a.default.createElement(i.default,{key:e.id,photo:e,position:o,location:t})}))};p.displayName="PhotosListView",p.propTypes=d,t.default=p},1480:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1481);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1481:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Photo=void 0;var r=o(1),a=n(r),l=o(1414),i=n(l),u=o(1423),s=n(u),c=o(1425),d=n(c),p=o(1424),f=n(p),h=o(1482),m=n(h),y=o(1452),_=n(y),v=o(1484),b=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),P={location:r.PropTypes.object.isRequired,photo:r.PropTypes.object.isRequired,position:r.PropTypes.number.isRequired},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.renderLikeButton=function(){var e=this.props,t=e.location,o=e.photo;return a.default.createElement(s.default,{photo:o,location:t})},t.prototype.renderAddToCollectionButton=function(){var e=this.props,t=e.location,o=e.photo;return a.default.createElement("div",{className:_.default.collectionButtonContainer},a.default.createElement(d.default,{photo:o,location:t}))},t.prototype.renderleftActions=function(){return a.default.createElement("div",{className:_.default.leftActions},this.renderLikeButton(),this.renderAddToCollectionButton())},t.prototype.renderRightActions=function(){var e=this.props.photo;return a.default.createElement("div",{className:_.default.rightActions},a.default.createElement(f.default,{photo:e,showLabel:!0}))},t.prototype.renderUser=function(){var e=this.props.photo.user;return a.default.createElement("div",{className:_.default.user},a.default.createElement(i.default,{includeAvatar:!0,user:e}))},t.prototype.renderPhotoInfo=function(){return a.default.createElement("div",{className:_.default.photoInfo},this.renderleftActions(),this.renderUser(),this.renderRightActions())},t.prototype.renderTopUserLink=function(){var e=this.props.photo.user;return a.default.createElement("div",{className:_.default.userTopLink},a.default.createElement(i.default,{includeAvatar:!0,user:e}))},t.prototype.render=function(){var e=this.props,t=e.location,o=e.photo,n=e.position;return a.default.createElement("div",{className:_.default.container,"data-test":v.TEST_ATTRIBUTE},this.renderTopUserLink(),a.default.createElement(m.default,{location:t,position:n,photo:o}),this.renderPhotoInfo())},t}(r.Component);t.Photo=w,w.displayName="Photo",w.propTypes=P,t.default=w},1482:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1483);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1483:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoImage=void 0;var r=o(1),a=n(r),l=o(58),i=n(l),u=o(9),s=o(21),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(s),d=o(123),p=o(498),f=o(96),h=o(190),m=o(41),y=o(60),_=o(1438),v=o(1452),b=n(v),P=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),w={location:r.PropTypes.object.isRequired,photo:r.PropTypes.object.isRequired,windowWidth:r.PropTypes.number,contentWidth:r.PropTypes.number,pixelRatio:r.PropTypes.number.isRequired,setSelectedPhoto:r.PropTypes.func.isRequired},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.render=function(){var e=this,t=this.props,o=t.photo,n=t.photo.user,r=t.pixelRatio,l=t.location,u=t.setSelectedPhoto,s=t.windowWidth,c=t.contentWidth,d=(0,h.checkIsPhone)(s)?s:c,p=(0,y.getImageSizeAndImgixUrl)({photo:o,parentWidth:d,pixelRatio:r}),f=p.imageUrl,_=p.imageWidth,v=p.imageHeight;return a.default.createElement(i.default,{ref:function(t){e.elem=t},to:(0,m.buildPhotoLink)(o,l,s),title:"View the photo By "+n.name,onClick:function(){return u({id:o.id,ref:e.elem})}},a.default.createElement("img",{alt:o.description||null,src:f,className:b.default.photo,style:{width:_,height:v}}))},t}(r.Component);t.PhotoImage=g,g.displayName="PhotoImage",g.propTypes=w;var T=function(e){return{pixelRatio:(0,d.getPixelRatio)(e),windowWidth:(0,f.getWindowWidth)(e),contentWidth:(0,p.getContentWidth)(e)}},k={setSelectedPhoto:c.setSelectedPhoto};t.default=(0,_.reportPhotoImpressions)((0,u.connect)(T,k)(g))},1484:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1485:function(e,t){e.exports={"--xs-max":"(--xs-max)",container:"_1I8cs"}},1486:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photos-list-view"},1601:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1602);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1602:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),l=o(1603),i=n(l),u={type:r.PropTypes.oneOf(["photos","collections","users","photo-likes","collection-photos"]).isRequired},s=function(e){var t=e.type;return a.default.createElement("div",{className:i.default.emptyStateContainer},a.default.createElement("img",{alt:"No content available",className:i.default.emptyStateImg,src:"/a/img/empty-states/"+t+".png"}))};s.displayName="EmptyState",s.propTypes=u,t.default=s},1603:function(e,t){e.exports={emptyStateContainer:"_1SdCr",emptyStateImg:"_3AIC0",emptyStateDesc:"_4zmjf",cta:"_2d_9Y"}},1956:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchPhotos=void 0;var r=o(1),a=n(r),l=o(9),i=o(18);o(503),o(501),o(499),o(500);var u=o(21),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(u),c=o(59),d=n(c),p=o(61),f=o(141),h=o(20),m=o(97),y=o(96),_=o(146),v=o(147),b=o(1453),P=n(b),w=o(1457),g=n(w),T=o(1478),k=n(T),O=o(1416),E=n(O),C=o(496),N=n(C),L=o(1601),M=n(L),S=o(1957),B=n(S),A=o(1958),I=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),j=(0,m.normalizeResponse)("searchPhotos"),R={search:r.PropTypes.object.isRequired,location:r.PropTypes.object,updateData:r.PropTypes.func.isRequired,addPhotosToSearchPhotoFeed:r.PropTypes.func.isRequired,searchXps:r.PropTypes.object.isRequired,isPhone:r.PropTypes.bool},U=function(e){function t(t){var o=e.call(this,t)||this;return o.fetchPhotos=o.fetchPhotos.bind(o),o}return I(t,e),t.prototype.componentDidMount=function(){this.addScrollSubscription()},t.prototype.componentWillReceiveProps=function(e){e.search.query!==this.props.search.query&&(this.removeScrollSubscription(),this.addScrollSubscription())},t.prototype.componentWillUnmount=function(){this.removeScrollSubscription()},t.prototype.addScrollSubscription=function(){var e=this,t=i.Observable.fromEvent(window,"scroll").filter(function(){return(0,h.shouldFetchMoreContent)()}).map(function(){return e.props.search.photos.lastPageFetched}).distinct();this.scrollSubscription=t.subscribe(this.fetchPhotos)},t.prototype.fetchPhotos=function(){var e=this.props,t=e.search,o=e.searchXps,n=e.updateData,r=e.addPhotosToSearchPhotoFeed,a=t.photos,l=a.maxPage,i=a.lastPageFetched;if(i<l){var u=i+1;d.default.custom.search.photos(t.query,u,v.SEARCH_PER_PAGE,o).then(p.handleApiFetchResponse).then(j).then(function(e){var t=e.entities,o=e.result;n(t),r({lastPageFetched:u,photoIds:o.results})})}},t.prototype.removeScrollSubscription=function(){this.scrollSubscription.unsubscribe(),this.fetchSubscription&&this.fetchSubscription.unsubscribe()},t.prototype.render=function(){var e=this.props,t=e.search.photos,o=t.total,n=t.results,r=t.maxPage,l=t.lastPageFetched,i=t.isLoading,u=e.isPhone,s=e.location;return 0!==o||i?i?a.default.createElement("div",{"data-test":A.TEST_ATTRIBUTE},a.default.createElement(N.default,null)):a.default.createElement(P.default,null,a.default.createElement("div",{"data-test":A.TEST_ATTRIBUTE},u?a.default.createElement(k.default,{photos:n,location:s}):a.default.createElement(g.default,{photos:n,location:s}),l<r&&a.default.createElement(N.default,null),a.default.createElement("div",{className:B.default.footerContainer},a.default.createElement(E.default,null)))):a.default.createElement("div",{"data-test":A.TEST_ATTRIBUTE},a.default.createElement(M.default,{type:"photos"}))},t}(r.Component);t.SearchPhotos=U,U.displayName="SearchPhotos",U.propTypes=R;var D=function(e){return{search:(0,_.getDenormalizedSearch)(e),isPhone:(0,y.getIsPhone)(e),searchXps:(0,f.getAllSearchXps)(e)}},F={updateData:s.updateData,addPhotosToSearchPhotoFeed:s.addPhotosToSearchPhotoFeed};t.default=(0,l.connect)(D,F)(U)},1957:function(e,t){e.exports={mxn2:"_3hepI",footerContainer:"_28xh1 _3hepI"}},1958:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="search-photos-route"}});
//# sourceMappingURL=search-photos-route.main.dcc9d.js.map