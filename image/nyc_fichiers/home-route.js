webpackJsonp([7],{1380:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1702);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1414:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1434);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1415:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={children:a.PropTypes.node,delay:a.PropTypes.number,wrapperClassName:a.PropTypes.string,targetWrapperClassName:a.PropTypes.string,mode:a.PropTypes.oneOf(["mount","visibility"]),onExit:a.PropTypes.func},o={mode:"mount"},n=function(o){function n(){var e=o.call(this)||this;return e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseLeave=e.handleMouseLeave.bind(e),e.state={isHovering:!1},e}return c(n,o),n.prototype.shouldComponentUpdate=function(e,t){var o=!(0,u.default)(this.props,e),n=this.state.isHovering!==t.isHovering;return o||n},n.prototype.handleMouseMove=function(){var e=this;this.state.isHovering||this.hoverTimerId||(this.hoverTimerId=window.setTimeout(function(){e.hoverTimerId=null,e.setState({isHovering:!0})},this.props.delay))},n.prototype.handleMouseLeave=function(){this.hoverTimerId&&(window.clearTimeout(this.hoverTimerId),this.hoverTimerId=null),this.setState({isHovering:!1},this.props.onExit)},n.prototype.renderHoverContents=function(){var o=this.state.isHovering,n=this.props,r=n.mode,a=n.targetWrapperClassName,l=(0,d.default)(this.props,Object.keys(t));return"visibility"===r?i.default.createElement("span",{className:a,style:{visibility:o?"visible":"hidden"}},i.default.createElement(e,f({},l))):o?i.default.createElement(e,f({},l)):null},n.prototype.render=function(){var e=this.props,t=e.children,o=e.wrapperClassName;return i.default.createElement("span",{className:o,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},this.renderHoverContents(),t)},n}(a.Component);return n.displayName="WrappedHoverComponent",n.propTypes=t,n.defaultProps=o,n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(1),i=n(a),l=o(502),u=n(l),s=o(142),d=n(s),c=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),f=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}},1420:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1421);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1421:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FollowButton=void 0;var r=o(1),a=n(r),i=o(9),l=o(42),u=n(l),s=o(10),d=n(s),c=o(18);o(490),o(491),o(492);var f=o(59),p=n(f),h=o(21),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(h),_=o(47),y=o(53),v=n(y),b=o(29),P=n(b),g=o(1422),T=n(g),w=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),O=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},C={selectedUser:r.PropTypes.object.isRequired,authUser:r.PropTypes.object,location:r.PropTypes.object,className:r.PropTypes.string,redirectAfterFollow:r.PropTypes.bool,trackFollowButtonClick:r.PropTypes.func.isRequired,trackUnfollowButtonClick:r.PropTypes.func.isRequired,followUser:r.PropTypes.func.isRequired,unfollowUser:r.PropTypes.func.isRequired,labelText:r.PropTypes.shape({isFollowing:r.PropTypes.string.isRequired,isNotFollowing:r.PropTypes.string.isRequired}),buttonType:r.PropTypes.string},k={labelText:{isFollowing:"Following",isNotFollowing:"Follow"}},E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.componentWillUnmount=function(){this.followSubscription&&this.followSubscription.unsubscribe()},t.prototype.getLabelText=function(){var e=this.props.labelText;return this.props.selectedUser.followed_by_user?e.isFollowing:e.isNotFollowing},t.prototype.buildToLink=function(){var e=this.props,t=e.authUser,o=e.location,n=t?o.query:Object.assign({},o.query,{login_view:"is_visible",login_action:"follow"});return{pathname:o.pathname,query:n,state:o.state}},t.prototype.buildClickHandler=function(){var e=this,t=this.props,o=t.authUser,n=t.selectedUser,r=t.followUser,a=t.unfollowUser,i=t.trackFollowButtonClick,l=t.trackUnfollowButtonClick,u=t.buttonType;if(!o)return function(){return i(n.id,u)};var s=n.username,d=n.followed_by_user,f=d?p.default.custom.unfollowUser:p.default.custom.followUser,h=c.Observable.defer(function(){return f(s)}).retry(3).take(1);return function(t){t.stopPropagation(),d?(a(n.id),l(n.id,u)):(r(n.id),i(n.id,u)),e.followSubscription=h.subscribe()}},t.prototype.renderContainer=function(e){var t=this.props,o=t.selectedUser,n=t.className,r=t.redirectAfterFollow,i=t.authUser,l=this.buildClickHandler(),u=o.followed_by_user,s=!i,c=r||s,f={className:(0,d.default)(T.default.followButton,u&&T.default.isFollowing,n),buttonSize:"small"};return c?a.default.createElement(v.default,O({tag:"link",to:this.buildToLink(),onMouseUp:l},f),e):a.default.createElement(v.default,O({tag:"button",onMouseUp:l},f),e)},t.prototype.render=function(){var e=this.props,t=e.selectedUser,o=e.authUser;return(0,u.default)(o,"username")===t.username?a.default.createElement("div",null):this.renderContainer(a.default.createElement("span",null,a.default.createElement(P.default,{type:"follow",className:T.default.followIcon}),this.getLabelText()))},t}(r.Component);t.FollowButton=E,E.displayName="FollowButton",E.propTypes=C,E.defaultProps=k;var M=function(e){return{authUser:(0,_.getAuthUser)(e)}},B={trackFollowButtonClick:m.trackFollowButtonClick,trackUnfollowButtonClick:m.trackUnfollowButtonClick,followUser:m.followUser,unfollowUser:m.unfollowUser};t.default=(0,i.connect)(M,B)(E)},1422:function(e,t){e.exports={colorWhite:"#fff",colorLightGrey:"#ddd",colorGrey:"#999",colorDarkGrey:"#777",colorBlue:"#007fff",colorDarkBlue:"#006aff",colorBlack:"#000",followButton:"_3nDcb",isFollowing:"_2br-F",followIcon:"_2BKrY"}},1423:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1444);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1424:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1446);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1425:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1448);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1426:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SEARCH_DELAY=600,t.SEARCH_TRACKING_DELAY=2500,t.CARD_HOVER_DELAY=500},1427:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1428);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1428:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserResultCard=void 0;var r=o(1),a=n(r),i=o(9),l=o(10),u=n(l),s=o(42),d=n(s),c=o(58),f=n(c),p=o(47),h=o(41),m=o(12),_=o(60),y=o(1420),v=n(y),b=o(1429),P=n(b),g=o(189),T=n(g),w=o(1432),O=n(w),C={children:r.PropTypes.element,user:r.PropTypes.object.isRequired,photos:r.PropTypes.array,authUser:r.PropTypes.object,withinContainer:r.PropTypes.bool,withFollowButton:r.PropTypes.bool},k=t.UserResultCard=function(e){var t=e.user,o=e.photos,n=e.authUser,r=e.withinContainer,i=e.withFollowButton,l=e.children,s=!!t.total_photos,c=s&&(0,_.range)(3).map(function(e){return a.default.createElement(P.default,{key:e,photo:(0,d.default)(o,e)})}),p=i&&n&&n.id!==t.id;return a.default.createElement("div",{className:(0,u.default)(O.default.cardLink,r&&O.default.withinContainer)},a.default.createElement(f.default,{className:O.default.container,to:{pathname:(0,h.buildUserUrl)(t)},onClick:function(){return window.scrollTo(0,0)}},a.default.createElement("div",{className:O.default.topContainer},a.default.createElement("div",{className:O.default.userAvatarContainer},a.default.createElement(T.default,{className:O.default.avatar,user:t,avatarSize:g.AvatarSize.medium,disableLink:!0})),a.default.createElement("div",{className:O.default.userInfoContainer},a.default.createElement("h1",{className:O.default.userName},t.name),a.default.createElement("p",{className:O.default.userHandle},"@"+t.username))),s&&a.default.createElement("div",{className:O.default.bottomContainer},c)),p&&a.default.createElement("div",{className:O.default.followButtonContainer},a.default.createElement(v.default,{selectedUser:t,className:O.default.followButton})),l)};k.displayName="UserResultCard",k.propTypes=C;var E=function(e,t){return{authUser:(0,p.getAuthUser)(e),photos:(0,_.pickValues)((0,m.getPhotosById)(e),t.user.photoIds)||t.user.photos}};t.default=(0,i.connect)(E)(k)},1429:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1430);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1430:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),i=o(42),l=n(i),u=o(10),s=n(u),d=o(20),c=o(1431),f=n(c),p={photo:r.PropTypes.object,darker:r.PropTypes.bool.isRequired},h={darker:!1},m=function(e){var t=e.photo,o=e.darker,n=(0,l.default)(t,"urls.thumb"),r=(0,l.default)(t,"color");return a.default.createElement("div",{className:(0,s.default)(f.default.photoThumbContainer,o?f.default.photoThumbContainerDark:f.default.photoThumbContainerLight),style:t&&{backgroundColor:r}},a.default.createElement("div",{className:f.default.photoThumb,style:t&&{backgroundImage:(0,d.urlToBackgroundImage)(n)}}))};m.propTypes=p,m.defaultProps=h,t.default=m},1431:function(e,t){e.exports={colors:'"styles/Colors.css"',colorDarkWhite:"#f5f5f5",colorLightGrey:"#ddd",photoThumbContainer:"_1BiZr",photoThumbContainerLight:"_1QflV",photoThumbContainerDark:"_3mBAu",photoThumb:"_2te-4"}},1432:function(e,t){e.exports={clearfix:"_2TNYr","sm-col":"_6_Gu-","sm-col-6":"_2cVF0","md-col-4":"_1hITE",px2:"_2DKvn",floatLeft:"_2T3hc","--sm-min":"(--sm-min)",colorDarkWhite:"#f5f5f5",colorLightGrey:"#ddd",colorGrey:"#999",colorLightBlack:"#111",truncate:"_1ByhS",textDecorationNone:"_1CBrG",spacingBase:"16px",avatarSize:"64px",grid:"_15FGY _6_Gu- _2cVF0 _1hITE _2DKvn",cardLink:"_3x_oL",withinContainer:"_3eFB8",container:"_2Twi2 _1CBrG",topContainer:"_2Em44 _2TNYr",userAvatarContainer:"_6jh8j _2T3hc",avatar:"_2ogcu",userInfoContainer:"_3_xrB",userName:"_2_qf1 _1ByhS",userHandle:"_1l0oJ _1ByhS",bottomContainer:"_1dc02",followButtonContainer:"_3u1LW",followButton:"_1TZOC"}},1433:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1435);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1434:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),i=o(10),l=n(i),u=o(58),s=n(u),d=o(279),c=o(41),f=o(1415),p=n(f),h=o(1426),m=o(189),_=n(m),y=o(1433),v=n(y),b=o(1437),P=n(b),g={user:r.PropTypes.object.isRequired,type:r.PropTypes.oneOf(["default","alt","emphasiseUsername"]),secondaryLink:r.PropTypes.shape({label:r.PropTypes.string.isRequired,href:r.PropTypes.string.isRequired}),includeAvatar:r.PropTypes.bool,inline:r.PropTypes.bool,isInFollowingFeed:r.PropTypes.bool,children:r.PropTypes.node},T={type:"default",includeAvatar:!1},w=(0,p.default)(v.default),O=function(e){var t=e.user,o=e.type,n=e.secondaryLink,r=e.children,i=e.includeAvatar,u=e.inline,d=e.isInFollowingFeed,f=function(){switch(o){case"default":return[];case"alt":return[P.default.alt];case"emphasiseUsername":return[P.default.mainLinkEmphasiseUsernameType,P.default.linkEmphasiseUsernameType]}}(),p=function(){switch(o){case"alt":return P.default.alt;case"emphasiseUsername":return P.default.linkEmphasiseUsernameType}}();return a.default.createElement("span",{className:P.default.container},i&&a.default.createElement(w,{user:t,delay:h.CARD_HOVER_DELAY,wrapperClassName:P.default.avatarContainer},a.default.createElement(_.default,{user:t,className:P.default.avatar})),a.default.createElement("div",{className:(0,l.default)(P.default.linkContainer,u&&P.default.inlineContainer,d&&P.default.feedContainer)},a.default.createElement(w,{user:t,delay:h.CARD_HOVER_DELAY},a.default.createElement(s.default,{to:{pathname:(0,c.buildUserUrl)(t)},className:(0,l.default)(P.default.name,f,(m={},m[P.default.centerName]=!n,m[P.default.inlineLink]=u,m))},r||t.name),n?a.default.createElement("a",{href:n.href,className:(0,l.default)(P.default.name,p,(y={},y[P.default.secondaryLink]=n,y))},n.label):null)));var m,y};O.propTypes=g,t.default=(0,d.withDefaults)(O,T)},1435:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),i=o(9),l=o(59),u=n(l),s=o(61),d=o(97),c=o(21),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(c),p=o(47),h=o(20),m=o(495),_=n(m),y=o(1427),v=n(y),b=o(1436),P=n(b),g=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),T={user:r.PropTypes.object.isRequired,authUser:r.PropTypes.object,updateData:r.PropTypes.func.isRequired},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.user,o=e.updateData,n=e.authUser;return(0,h.checkUserIsEnhanced)({user:t,authUser:n})?a.default.createElement(_.default,{className:P.default.cardTooltip},a.default.createElement(v.default,{withinContainer:!0,withFollowButton:!0,user:t,actions:f})):(u.default.users.profile(t.username).then(s.handleApiFetchResponse).then((0,d.normalizeResponse)("user")).then(function(e){var t=e.entities;o(t)}),null)},t}(r.Component);w.displayName="UserDetailsCard",w.propTypes=T;var O=function(e){return{authUser:(0,p.getAuthUser)(e)}};t.default=(0,i.connect)(O,{updateData:f.updateData})(w)},1436:function(e,t){e.exports={cardTooltip:"wVee7"}},1437:function(e,t){e.exports={hoverTransition:"_3XJBh",colorWhite:"#fff",truncate:"_1ByhS",textDecorationNone:"_1CBrG",container:"_2aPXR",avatarContainer:"JRtMq",avatar:"qNcZ0",linkContainer:"_80uCh",name:"_3XzpS _1ByhS",centerName:"_2zITg",secondaryLink:"NRFpG _1ByhS",alt:"_1_w0v _3XJBh _1CBrG",mainLinkEmphasiseUsernameType:"_1O9Y0",linkEmphasiseUsernameType:"_3l__V _1CBrG",inlineContainer:"_3qohC",inlineLink:"_1ZT8D",feedContainer:"_3n7HL"}},1438:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reportPhotoImpressions=void 0;var r=o(1),a=n(r),i=o(9),l=o(1461),u=n(l),s=o(98),d=n(s),c=o(20),f=o(21),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(f),h=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_=!0===d.default.get("ENABLE_PHOTO_IMPRESSIONS_TRACKING");t.reportPhotoImpressions=function(e){var t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return h(o,t),o.prototype.reportImpression=function(e){if(e){var t=this.props,o=t.photo,n=t.position;(0,t.reportPhotoImpression)({photo:{id:o.id,position:n}})}},o.prototype.render=function(){var t=a.default.createElement(e,m({},this.props));return _&&c.isBrowser&&(0,c.checkSupportsIntersectionObservers)()?a.default.createElement(u.default,{onChange:this.reportImpression.bind(this),threshold:.5},t):t},o.displayName="WrappedReportPhotoImpressionsComponent",o}(r.Component),o={reportPhotoImpression:p.reportPhotoImpression};return(0,i.connect)(null,o)(t)}},1441:function(e,t,o){"use strict";function n(e){var t=e.downloadButtonXp,o=e.inFollowingFeed;return[i.VARIANTS.showArrow,i.VARIANTS.showBottomBar].includes(t)&&!o}function r(e){var t=u.safeLocalStorageHelpers.hasItem(l.HAS_DOWNLOADED_A_PHOTO),o=e.downloadButtonXp===i.VARIANTS.showArrow;return n(e)&&o&&!t}function a(e){var t=e.downloadButtonXp,o=e.inFollowingFeed;return t===i.VARIANTS.showWord&&!o}Object.defineProperty(t,"__esModule",{value:!0}),t.checkHasWorkingHover=t.ActionsModes=t.ActionsStates=void 0,t.checkShouldShowDownloadButton=n,t.checkShouldShowTooltip=r,t.checkShouldShowLabel=a;var i=o(494),l=o(493),u=o(20),s=t.ActionsStates=void 0;!function(e){e.All="All",e.AddToCollectionButton="AddToCollectionButton",e.AddToCollectionButtonAndPhotographerInfo="AddToCollectionButtonAndPhotographerInfo",e.DownloadButton="DownloadButton"}(t.ActionsStates=s=s||(t.ActionsStates=s={}));var d=t.ActionsModes=void 0;!function(e){e.All="All",e.CollectionsOnboarding="CollectionsOnboarding"}(t.ActionsModes=d=d||(t.ActionsModes=d={}));var c=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream};t.checkHasWorkingHover=function(){return!c()}},1442:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1443);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1443:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SmallPhoto=void 0;var r=o(1),a=n(r),i=o(9),l=o(10),u=n(l),s=o(58),d=n(s),c=o(143),f=n(c),p=o(20),h=o(190),m=o(41),_=o(282),y=o(96),v=o(141),b=o(279),P=o(1414),g=n(P),T=o(1423),w=n(T),O=o(1424),C=n(O),k=o(1425),E=n(k),M=o(1451),B=n(M),j=o(1441),A=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),N={inFollowingFeed:!1,shouldIncludeLink:!0,actionsMode:j.ActionsModes.All},S=function(e){function t(t){var o=e.call(this,t)||this;return o.handleMouseMove=o.handleMouseMove.bind(o),o.handleMouseLeave=o.handleMouseLeave.bind(o),o.state={isHovering:!1},o}return A(t,e),t.prototype.getActionsState=function(){var e=this.state.isHovering,t=this.props,o=t.actionsMode,n=t.jsLoaded,r=t.downloadButtonXp,a=t.inFollowingFeed,i=(0,j.checkShouldShowDownloadButton)({downloadButtonXp:r,inFollowingFeed:a});switch(o){case j.ActionsModes.CollectionsOnboarding:return e||!n?j.ActionsStates.AddToCollectionButtonAndPhotographerInfo:j.ActionsStates.AddToCollectionButton;case j.ActionsModes.All:return e||!n?j.ActionsStates.All:i&&!e?j.ActionsStates.DownloadButton:void 0}},t.prototype.handleMouseMove=function(){(0,j.checkHasWorkingHover)()&&!this.state.isHovering&&this.setState({isHovering:!0})},t.prototype.handleMouseLeave=function(){this.setState({isHovering:!1})},t.prototype.renderPhotoInfo=function(){var e=this.props,t=e.photo,o=e.linkTo,n=e.windowWidth,r=e.location,i=e.imageUrl,l=e.showPhotoInfoOnHover,s=e.shouldIncludeLink,c=!(0,h.checkIsPhone)(n);return a.default.createElement("div",{className:(0,u.default)(B.default.photoInfo,void 0!==this.getActionsState()&&B.default.photoInfoIsShown),onMouseMove:c?this.handleMouseMove:void 0,onMouseLeave:c?this.handleMouseLeave:void 0},s&&a.default.createElement(d.default,{title:"View the photo by "+t.user.name,to:o||(0,m.buildPhotoLink)(t,r,n,{initialSrc:i}),className:B.default.photoInfoLink}),l&&this.renderActions())},t.prototype.renderLikeButton=function(){var e=this.props,t=e.location,o=e.photo;return a.default.createElement(w.default,{type:"alt",location:t,photo:o})},t.prototype.renderAddToCollectionButton=function(){var e=this.props,t=e.location,o=e.photo;return a.default.createElement("div",{className:B.default.addToCollectionButtonContainer},a.default.createElement(E.default,{className:B.default.collectionButton,type:"alt",photo:o,location:t}))},t.prototype.renderDownloadButton=function(){var e=this.props,t=e.photo,o=e.downloadButtonXp,n=e.inFollowingFeed,r=(0,j.checkShouldShowTooltip)({downloadButtonXp:o,inFollowingFeed:n}),i=(0,j.checkShouldShowLabel)({downloadButtonXp:o,inFollowingFeed:n});return a.default.createElement("div",{className:B.default.buttonDownloadContainer},a.default.createElement(C.default,{type:"alt",photo:t,showLabel:i,showTooltip:r}))},t.prototype.renderUserLink=function(){var e=this.props.photo.user;return a.default.createElement("div",{className:B.default.userContainer},a.default.createElement(g.default,{includeAvatar:!0,user:e,type:"alt"}))},t.prototype.renderTopActions=function(){switch(this.getActionsState()){case j.ActionsStates.AddToCollectionButton:case j.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return a.default.createElement("div",{className:B.default.actionsTop},this.renderAddToCollectionButton());case j.ActionsStates.All:return a.default.createElement("div",{className:B.default.actionsTop},this.renderLikeButton(),this.renderAddToCollectionButton());case j.ActionsStates.DownloadButton:case void 0:return}},t.prototype.renderBottomActions=function(){switch(this.getActionsState()){case j.ActionsStates.All:return a.default.createElement("div",{className:B.default.actionsBottom},this.renderUserLink(),this.renderDownloadButton());case j.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return a.default.createElement("div",{className:B.default.actionsBottom},this.renderUserLink());case j.ActionsStates.DownloadButton:return a.default.createElement("div",{className:B.default.actionsBottom},this.renderDownloadButton());case j.ActionsStates.AddToCollectionButton:case void 0:return}},t.prototype.renderActions=function(){return void 0!==this.getActionsState()?a.default.createElement("div",null,this.renderTopActions(),this.renderBottomActions()):null},t.prototype.renderImage=function(){var e=this,t=this.props,o=t.photo,n=t.width,r=t.height,i=t.imageUrl,l=t.fillWidth,s=t.children,d=t.followingFeedClassName,c=t.inFollowingFeed,h=t.photoRef,m={backgroundImage:(0,p.urlToBackgroundImage)(i),backgroundColor:o.color,backgroundSize:"cover",width:l?"100%":n,height:r};return a.default.createElement("div",{style:c?m:{},className:(0,u.default)(c&&(0,u.default)(B.default.photo,d))},!c&&a.default.createElement("img",{alt:o.description||void 0,src:i,ref:function(t){(0,f.default)(h)&&h(t),e.linkElem=t},className:B.default.imgPhoto,style:{width:l?"100%":n,height:r}}),s)},t.prototype.render=function(){var e=this.props.containerClassName;return a.default.createElement("div",{className:(0,u.default)(B.default.container,e)},this.renderImage(),this.renderPhotoInfo())},t.displayName="SmallPhoto",t}(r.PureComponent);t.SmallPhoto=S;var R=function(e,t){return{jsLoaded:(0,_.getJsLoaded)(e),windowWidth:(0,y.getWindowWidth)(e),downloadButtonXp:(0,v.getDownloadButtonXp)(e)}};t.default=(0,b.withDefaults)((0,i.connect)(R)(S),N)},1444:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LikeButton=void 0;var r=o(1),a=n(r),i=o(9),l=o(10),u=n(l),s=o(47),d=o(21),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(d),f=o(18);o(490),o(491),o(492);var p=o(59),h=n(p),m=o(53),_=n(m),y=o(29),v=n(y),b=o(1445),P=n(b),g=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),T={type:r.PropTypes.oneOf(["default","alt"]),photo:r.PropTypes.object.isRequired,location:r.PropTypes.object.isRequired,className:r.PropTypes.string,authUser:r.PropTypes.object,trackPhotoUnlike:r.PropTypes.func.isRequired,trackPhotoLike:r.PropTypes.func.isRequired,unlikePhoto:r.PropTypes.func.isRequired,likePhoto:r.PropTypes.func.isRequired,setSelectedPhoto:r.PropTypes.func.isRequired},w={type:"default"},O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.componentWillUnmount=function(){this.likesSubscription&&this.likesSubscription.unsubscribe()},t.prototype.buildToLink=function(){var e=this.props,t=e.authUser,o=e.location,n=e.photo;return t?{pathname:o.pathname,query:o.query,state:o.state}:{pathname:o.pathname,query:Object.assign({},o.query,{login_view:"is_visible",login_action:"like",login_from_photo:n.id}),state:o.state}},t.prototype.isLikedModifier=function(){var e=this.props,t=e.photo,o=e.type,n="default"===o?"outline":"outline-alt";return t.liked_by_user?"pink":n},t.prototype.buildClickHandler=function(){var e=this,t=this.props,o=t.photo,n=t.trackPhotoUnlike,r=t.trackPhotoLike,a=t.unlikePhoto,i=t.likePhoto,l=o.liked_by_user,u=l?h.default.photos.unlikePhoto:h.default.photos.likePhoto,s=l?n:r,d=l?a:i,c=f.Observable.defer(function(){return u(o.id)}).retry(3);return function(t){t.preventDefault(),d(o.id),s(o),e.likesSubscription=c.subscribe()}},t.prototype.renderLikesLabel=function(){var e=this.props.photo;return e.likes?a.default.createElement("span",{className:P.default.labelLike},e.likes):a.default.createElement("span",null)},t.prototype.render=function(){var e=this.props,t=e.photo,o=e.setSelectedPhoto,n=e.trackPhotoLike,r=e.className,i=e.authUser,l=i?this.buildClickHandler():function(){o({id:t.id}),n(t)};return a.default.createElement(_.default,{className:(0,u.default)(P.default.buttonLike,r),buttonType:this.isLikedModifier(),tag:"link",title:"Like photo",buttonSize:"small",to:this.buildToLink(),onClick:l},a.default.createElement("span",null,a.default.createElement(v.default,{type:"heart",className:(0,u.default)(P.default.likeIcon,(s={},s[P.default.likeIconLiked]=t.liked_by_user,s))}),this.renderLikesLabel()));var s},t}(r.Component);t.LikeButton=O,O.displayName="LikeButton",O.propTypes=T,O.defaultProps=w;var C=function(e){return{authUser:(0,s.getAuthUser)(e)}},k={trackPhotoUnlike:c.trackPhotoUnlike,trackPhotoLike:c.trackPhotoLike,unlikePhoto:c.unlikePhoto,likePhoto:c.likePhoto,setSelectedPhoto:c.setSelectedPhoto};t.default=(0,i.connect)(C,k)(O)},1445:function(e,t){e.exports={floatLeft:"_2T3hc",colorPink:"#f15151",colorWhite:"#fff",likeIcon:"BWSrD _2T3hc",likeIconLiked:"_1O_YD",labelLike:"_2ER2Y _2T3hc"}},1446:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadButton=void 0;var r=o(1),a=n(r),i=o(9),l=o(10),u=n(l),s=o(21),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(s),c=o(281),f=o(493),p=o(20),h=o(1415),m=n(h),_=o(53),y=n(_),v=o(29),b=n(v),P=o(495),g=n(P),T=o(1447),w=n(T),O={photo:r.PropTypes.object.isRequired,type:r.PropTypes.oneOf(["default","alt","green"]),showLabel:r.PropTypes.bool,showTooltip:r.PropTypes.bool,className:r.PropTypes.string,trackPhotoDownloadButtonClick:r.PropTypes.func.isRequired,showFixedBottomCard:r.PropTypes.func.isRequired,hideDownloadBottomBar:r.PropTypes.func.isRequired,label:r.PropTypes.string},C={type:"default",label:"Download"},k=t.DownloadButton=function(e){var t=e.photo,o=e.trackPhotoDownloadButtonClick,n=e.type,r=e.showLabel,i=e.showTooltip,l=e.className,s=e.showFixedBottomCard,d=e.hideDownloadBottomBar,h=e.label,_=function(){o(t),d(),p.safeLocalStorage.setItem(f.HAS_DOWNLOADED_A_PHOTO,""+!0);var e=new c.SayThanksCard(t.id);s(e)},v=r&&a.default.createElement("span",{className:w.default.label},h),P=a.default.createElement(b.default,{type:"download",className:(0,u.default)(w.default.downloadIcon,(k={},k[w.default.labelIcon]=r,k))}),T=function(){return a.default.createElement(g.default,{className:w.default.tooltip,tipPositionClassName:w.default.tooltipAnchorRight},a.default.createElement("div",{className:w.default.tooltipContents},"Click the ↓ to download this photo for free."))},O=(0,m.default)(T),C=function(){switch(n){case"default":return"outline";case"alt":return"outline-alt";case"green":return"green"}}();return a.default.createElement(y.default,{className:(0,u.default)(w.default.button,l),buttonType:C,buttonSize:"small",title:"Download photo",href:t.links.download+"?force=true",rel:"nofollow",download:!0,target:"_blank",track:_},a.default.createElement("span",null,i?a.default.createElement(O,null,P):P,v));var k};k.propTypes=O,k.defaultProps=C,k.displayName="DownloadButton";var E={trackPhotoDownloadButtonClick:d.trackPhotoDownloadButtonClick,showFixedBottomCard:d.showFixedBottomCard,hideDownloadBottomBar:d.hideDownloadBottomBar};t.default=(0,i.connect)(null,E)(k)},1447:function(e,t){e.exports={"--sm-min":"(--sm-min)",colorWhite:"#fff",colorLightBlack:"#111",button:"_1Tfeo",icon:"_11dQc",downloadIcon:"Apljk _11dQc",labelIcon:"_1Jd5C",label:"_2Aga-",tooltip:"_2wyvF",tooltipAnchorRight:"GMco6",tooltipContents:"_31KQ1"}},1448:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddToCollectionButton=void 0;var r=o(1),a=n(r),i=o(9),l=o(10),u=n(l),s=o(21),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(s),c=o(47),f=o(53),p=n(f),h=o(29),m=n(h),_=o(1449),y=o(1450),v=n(y),b={type:r.PropTypes.oneOf(["default","alt"]),photo:r.PropTypes.object.isRequired,setSelectedPhoto:r.PropTypes.func.isRequired,trackCollectionButtonClick:r.PropTypes.func.isRequired,location:r.PropTypes.object.isRequired,className:r.PropTypes.string,authUser:r.PropTypes.object,handleClick:r.PropTypes.func,children:r.PropTypes.node},P={type:"default"},g=t.AddToCollectionButton=function(e){var t=e.photo,o=e.setSelectedPhoto,n=e.trackCollectionButtonClick,r=e.location,i=e.type,l=e.className,s=e.authUser,d=e.handleClick,c=e.children,f="default"===i?"outline":"outline-alt";return a.default.createElement(p.default,{className:(0,u.default)(v.default.buttonCollections,l),buttonType:(0,_.inCollectionModifier)(f,t),buttonSize:"small",tag:"link",title:"Add to collection",to:(0,_.buildToLink)(s,r,t),onClick:function(){o({id:t.id}),n(t.id),d&&d()}},a.default.createElement(m.default,{type:"plus",className:v.default.addIcon}),a.default.createElement("span",{className:v.default.label},c,"Collect"))};g.displayName="AddToCollectionButton",g.propTypes=b,g.defaultProps=P;var T=function(e){return{authUser:(0,c.getAuthUser)(e)}},w={setSelectedPhoto:d.setSelectedPhoto,trackCollectionButtonClick:d.trackCollectionButtonClick};t.default=(0,i.connect)(T,w)(g)},1449:function(e,t,o){"use strict";function n(e,t,o){var n=e?Object.assign({},t.query,{add_to_collection_view:"is_visible"}):Object.assign({},t.query,{login_view:"is_visible",login_action:"add_to_collection",login_from_photo:o.id});return{pathname:t.pathname,query:n,state:t.state}}function r(e,t){return t.current_user_collections&&t.current_user_collections.length>0?"green":e}Object.defineProperty(t,"__esModule",{value:!0}),t.buildToLink=n,t.inCollectionModifier=r},1450:function(e,t){e.exports={floatLeft:"_2T3hc","--sm-min":"(--sm-min)",addIcon:"_2rdbO _2T3hc",label:"_1eyJo"}},1451:function(e,t){e.exports={floatLeft:"_2T3hc",floatRight:"_3pmDG","--sm-min":"(--sm-min)",colorPink:"#f15151",colorLightGrey:"#ddd",hoverTransition:"_3XJBh",container:"_3vgBX",photo:"_1hz5D",imgPhoto:"KW7g_ _1hz5D",photoInfo:"bQJ8Z",photoInfoIsShown:"_2j4gG",photoInfoLink:"_23lr1",actionsTop:"_2yfpM",actionsBottom:"_1a5YS",userContainer:"CpQi5 _2T3hc",buttonDownloadContainer:"_3i-Ef _3pmDG",addToCollectionButtonContainer:"_3W6mQ"}},1452:function(e,t){e.exports={floatLeft:"_2T3hc",floatRight:"_3pmDG","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",container:"y5w1y",photo:"cV68d",photoInfo:"hduMF",leftActions:"_31wG7 _2T3hc",rightActions:"_287Ma _3pmDG",user:"_114MZ",collectionButtonContainer:"_1XDiz",userLink:"_3isoq",userImageContainer:"_8p1N4 _2T3hc",userAvatar:"_1fYZF",userName:"_1imKo _2T3hc",userTopLink:"_1f9xN"}},1453:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1454);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1454:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedContainer=void 0;var r=o(1),a=n(r),i=o(9),l=o(21),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(l),s=o(1455),d=n(s),c=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),f={setContentWidth:r.PropTypes.func.isRequired,children:r.PropTypes.element.isRequired},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.componentDidMount=function(){this.setContentWidth(),window.addEventListener("resize",this.handleResize.bind(this))},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize.bind(this))},t.prototype.setContentWidth=function(){var e=this.props.setContentWidth;this.elem&&e(this.elem.offsetWidth-24)},t.prototype.handleResize=function(){this.setContentWidth()},t.prototype.render=function(){var e=this,t=this.props.children;return a.default.createElement("div",{className:d.default.container,ref:function(t){e.elem=t}},t)},t}(r.Component);t.FeedContainer=p,p.propTypes=f;var h={setContentWidth:u.setContentWidth};t.default=(0,i.connect)(null,h)(p)},1455:function(e,t){e.exports={container:"Nqw-T _2sCnE PrOBO _1CR66"}},1457:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1458);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1458:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return void 0===e&&(e=0),void 0===t&&(t=[]),{totalHeight:e,photos:t}}function a(e){var t=0,o=e[0];return e.forEach(function(e,n){e.totalHeight<o.totalHeight&&(t=n,o=e)}),t}function i(e){return Array.from({length:e}).map(function(){return r()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Masonry=void 0;var l=o(1),u=n(l),s=o(9),d=o(10),c=n(d),f=o(21),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(f),h=o(96),m=o(141),_=o(494),y=o(190),v=o(1459),b=n(v),P=o(1465),g=o(1466),T=n(g),w=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),O={photos:l.PropTypes.array.isRequired,location:l.PropTypes.object.isRequired,smallPhotoProps:l.PropTypes.object,windowWidth:l.PropTypes.number,downloadButtonXp:l.PropTypes.oneOf(Object.keys(_.VARIANTS)),showDownloadBottomBar:l.PropTypes.func.isRequired,hideDownloadBottomBar:l.PropTypes.func.isRequired,shouldUseContainerPadding:l.PropTypes.bool},C={shouldUseContainerPadding:!0},k=function(e){function t(t){var o=e.call(this,t)||this;return o.state={gridCount:(0,y.checkIsPhoneOrTablet)(t.windowWidth)?2:3},o.renderGrid=o.renderGrid.bind(o),o}return w(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.downloadButtonXp,o=e.showDownloadBottomBar;(0,P.checkShouldShowDownloadBottomBar)(t)&&o()},t.prototype.componentWillUpdate=function(e){var t=this.props.windowWidth;e.windowWidth!==t&&((0,y.checkIsPhoneOrTablet)(e.windowWidth)?this.setState({gridCount:2}):this.setState({gridCount:3}))},t.prototype.componentWillUnmount=function(){this.props.hideDownloadBottomBar()},t.prototype.getGridData=function(e){var t=this.props.photos,o=i(e);return t.forEach(function(e){var t=o[a(o)];e.height&&e.width&&(t.totalHeight+=e.height/e.width,t.photos.push(e))}),o.map(function(e){return e.photos})},t.prototype.renderGrid=function(e,t){var o=this.props,n=o.location,r=o.photos,a=o.smallPhotoProps,i=this.state.gridCount;return u.default.createElement("div",{key:t,ref:"MasonryGrid"+t,className:(0,c.default)(T.default.Grid,3===i&&T.default.GridThree,2===i&&T.default.GridTwo,1===i&&T.default.GridOne)},e.map(function(e,t){var o=r.indexOf(e);return u.default.createElement(b.default,{smallPhotoProps:a,gridCount:i,photo:e,position:o,key:t,location:n})}))},t.prototype.render=function(){var e=this.state.gridCount,t=this.props.shouldUseContainerPadding,o=this.getGridData(e).map(this.renderGrid);return u.default.createElement("div",{id:"gridMulti",className:(0,c.default)(T.default.container,t&&T.default.containerWithPadding),"data-test":P.TEST_ATTRIBUTE},o)},t}(l.Component);t.Masonry=k,k.displayName="Masonry",k.propTypes=O,k.defaultProps=C;var E=function(e){return{windowWidth:(0,h.getWindowWidth)(e),downloadButtonXp:(0,m.getDownloadButtonXp)(e)}},M={showDownloadBottomBar:p.showDownloadBottomBar,hideDownloadBottomBar:p.hideDownloadBottomBar};t.default=(0,s.connect)(E,M)(k)},1459:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1460);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1460:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),i=o(9),l=o(123),u=o(498),s=o(60),d=o(1442),c=n(d),f=o(1438),p=o(1463),h=o(1464),m=n(h),_=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},y={location:r.PropTypes.object.isRequired,smallPhotoProps:r.PropTypes.object,contentWidth:r.PropTypes.number,pixelRatio:r.PropTypes.number.isRequired,photo:r.PropTypes.object.isRequired,gridCount:r.PropTypes.number.isRequired},v=function(e){var t=e.smallPhotoProps,o=e.gridCount,n=e.location,r=e.contentWidth,i=e.pixelRatio,l=e.photo,u=Math.ceil(r/o-32),d=(0,s.getImageSizeAndImgixUrl)({photo:l,isMasonry:!0,parentWidth:u,pixelRatio:i}),f=d.imageUrl,h=d.imageWidth,y=d.imageHeight;return a.default.createElement("div",{className:m.default.photoContainer,"data-test":p.TEST_ATTRIBUTE},a.default.createElement(c.default,_({fillWidth:!0,showPhotoInfoOnHover:!0,width:h,height:y,imageUrl:f,photo:l,location:n},t)))};v.displayName="MasonryPhoto",v.propTypes=y;var b=function(e){return{contentWidth:(0,u.getContentWidth)(e),pixelRatio:(0,l.getPixelRatio)(e)}};t.default=(0,f.reportPhotoImpressions)((0,i.connect)(b)(v))},1461:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),d=(n(s),o(99)),c=n(d),f=o(1462),p=function(e){return"function"==typeof e},h=function(e){function t(){var e,o,n,r;a(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return o=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={inView:!1},n.node=null,n.handleNode=function(e){n.node&&(0,f.unobserve)(n.node),e&&(0,f.observe)(e,n.handleChange,n.props.threshold),n.node=e},n.handleChange=function(e){return n.setState({inView:e})},r=o,i(n,r)}return l(t,e),u(t,[{key:"componentWillUpdate",value:function(e,t){this.props.onChange&&t.inView!==this.state.inView&&(this.props.onChange(t.inView),t.inView&&e.unobserve)}},{key:"componentDidUpdate",value:function(e,t){t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&((0,f.unobserve)(this.node),this.node=null)}},{key:"componentWillUnmount",value:function(){this.node&&((0,f.unobserve)(this.node),this.node=null)}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.render,n=e.tag,a=(e.triggerOnce,e.threshold,r(e,["children","render","tag","triggerOnce","threshold"])),i=this.state.inView;return(0,s.createElement)(n,Object.assign({},a,{ref:this.handleNode}),i&&p(o)?o():null,p(t)?t(i):t)}}]),t}(s.Component);h.propTypes={tag:c.default.node,children:c.default.oneOfType([c.default.func,c.default.node]),triggerOnce:c.default.bool,threshold:c.default.number,onChange:c.default.func,render:c.default.func},h.defaultProps={tag:"div",threshold:0,triggerOnce:!1},t.default=h},1462:function(e,t,o){"use strict";function n(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&t){var n=l.get(o);n||(n=new IntersectionObserver(a,{threshold:o}),l.set(o,n)),i.set(e,{callback:t,visible:!1,threshold:o}),n.observe(e)}}function r(e){if(e){var t=i.get(e);if(t){i.delete(e);var o=l.get(t.threshold);o&&o.unobserve(e);var n=!1;i.forEach(function(e){e.threshold===t.threshold&&(n=!0)}),o&&!n&&(o.disconnect(),l.delete(t.threshold))}}}function a(e){e.forEach(function(e){if(i.has(e.target)){var t=e.isIntersecting,o=e.intersectionRatio,n=e.target,r=i.get(n),a=r.callback,l=r.visible,u=r.threshold,s=l?o>u:o>=u;void 0!==t&&(s=s&&t),i.set(n,{callback:a,visible:s,threshold:u}),a&&a(s)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.observe=n,t.unobserve=r;var i=new Map,l=new Map;t.default={observe:n,unobserve:r}},1463:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1464:function(e,t){e.exports={photoContainer:"_1pn7R"}},1465:function(e,t,o){"use strict";function n(e){var t=r.safeLocalStorageHelpers.hasItem(a.HAS_DOWNLOADED_A_PHOTO);return e===i.VARIANTS.showBottomBar&&!t}Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_ATTRIBUTE=void 0,t.checkShouldShowDownloadBottomBar=n;var r=o(20),a=o(493),i=o(494);t.TEST_ATTRIBUTE="photos-grid-view"},1466:function(e,t){e.exports={floatLeft:"_2T3hc","--sm-min":"(--sm-min)",clearfix:"_2TNYr",container:"_3_WtK _2TNYr",containerWithPadding:"_1C-lZ",Grid:"_1OvAL _2T3hc",GridThree:"_27nWV",GridTwo:"_1eGVY",GridOne:"_3nHtz"}},1471:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1472);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1472:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(18);o(503),o(490),o(501),o(499),o(500),o(491),o(492);var a=o(20),i=o(24),l=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),u={children:n.PropTypes.element.isRequired,handleFetch:n.PropTypes.func.isRequired,handleFetchArgs:n.PropTypes.shape({nextPage:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),perPage:n.PropTypes.number,orderBy:n.PropTypes.string}).isRequired,handleFetchResponse:n.PropTypes.func.isRequired,handleFetchError:n.PropTypes.func.isRequired,isDoneFetching:n.PropTypes.bool.isRequired,shouldResetFeedContents:n.PropTypes.bool},s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.componentDidMount=function(){this.addScrollSubscription()},t.prototype.componentWillUpdate=function(e){var t=this,o=this.props,n=o.handleFetch,r=o.handleFetchError,a=o.handleFetchResponse,i=e.shouldResetFeedContents,l=e.handleFetchArgs;if(i){this.removeScrollSubscription();n(l.nextPage,l.perPage,l.orderBy).then(function(e){t.addScrollSubscription(),a(e)}).catch(r)}},t.prototype.componentWillUnmount=function(){this.removeScrollSubscription()},t.prototype.addScrollSubscription=function(){var e=this,t=r.Observable.fromEvent(window,"scroll").filter(function(){return(0,a.shouldFetchMoreContent)()}).map(function(){return e.props.handleFetchArgs.nextPage}).distinct();this.scrollSubscription=t.subscribe(this.invokeSuppliedFetchMethod.bind(this))},t.prototype.removeScrollSubscription=function(){(0,i.unsafeGetMaybe)(this.scrollSubscription).unsubscribe(),this.fetchSubscription&&this.fetchSubscription.unsubscribe()},t.prototype.invokeSuppliedFetchMethod=function(){var e=this.props,t=e.handleFetch,o=e.handleFetchArgs,n=e.handleFetchResponse,a=e.handleFetchError,i=e.isDoneFetching;if(t&&!i){var l=o.nextPage,u=o.perPage,s=o.orderBy,d=r.Observable.defer(function(){return t(l,u,s)}).retry(3).take(1);this.fetchSubscription=d.subscribe(n,a)}},t.prototype.render=function(){return this.props.children},t}(n.Component);s.displayName="FeedScrollHandler",s.propTypes=u,t.default=s},1478:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1479);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1479:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),i=o(1480),l=n(i),u=o(1485),s=n(u),d=o(1486),c={location:r.PropTypes.object.isRequired,photos:r.PropTypes.array},f=function(e){var t=e.location,o=e.photos;return a.default.createElement("div",{id:"gridSingle",className:s.default.container,"data-test":d.TEST_ATTRIBUTE},o.map(function(e,o){return a.default.createElement(l.default,{key:e.id,photo:e,position:o,location:t})}))};f.displayName="PhotosListView",f.propTypes=c,t.default=f},1480:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1481);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1481:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Photo=void 0;var r=o(1),a=n(r),i=o(1414),l=n(i),u=o(1423),s=n(u),d=o(1425),c=n(d),f=o(1424),p=n(f),h=o(1482),m=n(h),_=o(1452),y=n(_),v=o(1484),b=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),P={location:r.PropTypes.object.isRequired,photo:r.PropTypes.object.isRequired,position:r.PropTypes.number.isRequired},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.renderLikeButton=function(){var e=this.props,t=e.location,o=e.photo;return a.default.createElement(s.default,{photo:o,location:t})},t.prototype.renderAddToCollectionButton=function(){var e=this.props,t=e.location,o=e.photo;return a.default.createElement("div",{className:y.default.collectionButtonContainer},a.default.createElement(c.default,{photo:o,location:t}))},t.prototype.renderleftActions=function(){return a.default.createElement("div",{className:y.default.leftActions},this.renderLikeButton(),this.renderAddToCollectionButton())},t.prototype.renderRightActions=function(){var e=this.props.photo;return a.default.createElement("div",{className:y.default.rightActions},a.default.createElement(p.default,{photo:e,showLabel:!0}))},t.prototype.renderUser=function(){var e=this.props.photo.user;return a.default.createElement("div",{className:y.default.user},a.default.createElement(l.default,{includeAvatar:!0,user:e}))},t.prototype.renderPhotoInfo=function(){return a.default.createElement("div",{className:y.default.photoInfo},this.renderleftActions(),this.renderUser(),this.renderRightActions())},t.prototype.renderTopUserLink=function(){var e=this.props.photo.user;return a.default.createElement("div",{className:y.default.userTopLink},a.default.createElement(l.default,{includeAvatar:!0,user:e}))},t.prototype.render=function(){var e=this.props,t=e.location,o=e.photo,n=e.position;return a.default.createElement("div",{className:y.default.container,"data-test":v.TEST_ATTRIBUTE},this.renderTopUserLink(),a.default.createElement(m.default,{location:t,position:n,photo:o}),this.renderPhotoInfo())},t}(r.Component);t.Photo=g,g.displayName="Photo",g.propTypes=P,t.default=g},1482:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1483);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1483:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoImage=void 0;var r=o(1),a=n(r),i=o(58),l=n(i),u=o(9),s=o(21),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(s),c=o(123),f=o(498),p=o(96),h=o(190),m=o(41),_=o(60),y=o(1438),v=o(1452),b=n(v),P=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g={location:r.PropTypes.object.isRequired,photo:r.PropTypes.object.isRequired,windowWidth:r.PropTypes.number,contentWidth:r.PropTypes.number,pixelRatio:r.PropTypes.number.isRequired,setSelectedPhoto:r.PropTypes.func.isRequired},T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.render=function(){var e=this,t=this.props,o=t.photo,n=t.photo.user,r=t.pixelRatio,i=t.location,u=t.setSelectedPhoto,s=t.windowWidth,d=t.contentWidth,c=(0,h.checkIsPhone)(s)?s:d,f=(0,_.getImageSizeAndImgixUrl)({photo:o,parentWidth:c,pixelRatio:r}),p=f.imageUrl,y=f.imageWidth,v=f.imageHeight;return a.default.createElement(l.default,{ref:function(t){e.elem=t},to:(0,m.buildPhotoLink)(o,i,s),title:"View the photo By "+n.name,onClick:function(){return u({id:o.id,ref:e.elem})}},a.default.createElement("img",{alt:o.description||null,src:p,className:b.default.photo,style:{width:y,height:v}}))},t}(r.Component);t.PhotoImage=T,T.displayName="PhotoImage",T.propTypes=g;var w=function(e){return{pixelRatio:(0,c.getPixelRatio)(e),windowWidth:(0,p.getWindowWidth)(e),contentWidth:(0,f.getContentWidth)(e)}},O={setSelectedPhoto:d.setSelectedPhoto};t.default=(0,y.reportPhotoImpressions)((0,u.connect)(w,O)(T))},1484:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1485:function(e,t){e.exports={"--xs-max":"(--xs-max)",container:"_1I8cs"}},1486:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photos-list-view"},1487:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1488);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1488:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedNav=void 0;var r=o(1),a=n(r),i=o(10),l=n(i),u=o(1489),s=n(u),d=o(1493),c=n(d),f={fallbackToGridChanger:r.PropTypes.bool,location:r.PropTypes.object,isHome:r.PropTypes.bool,leftChild:r.PropTypes.element,rightChild:r.PropTypes.element,slicedPadding:r.PropTypes.bool},p={fallbackToGridChanger:!0,isHome:!1,slicedPadding:!1},h=t.FeedNav=function(e){var t=e.location,o=e.fallbackToGridChanger,n=e.leftChild,r=e.rightChild,i=e.isHome,u=e.slicedPadding,d=!o||void 0!==r&&null!==r?r:a.default.createElement(s.default,{location:t,isHome:i});return a.default.createElement("div",{className:(0,l.default)(c.default.container,u?c.default.gridContainerLayout:c.default.gridContainer)},n&&a.default.createElement("span",{className:c.default.firstFloatLeft},n),d&&a.default.createElement("span",{className:c.default.lastFloatRight},d))};h.displayName="FeedNav",h.propTypes=f,h.defaultProps=p,t.default=h},1489:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1490);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1490:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GridChanger=void 0;var r=o(1),a=n(r),i=o(9),l=o(10),u=n(l),s=o(21),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(s),c=o(191),f=o(510),p=o(29),h=n(p),m=o(1491),_=o(1492),y=n(_),v={preferredGrid:r.PropTypes.oneOf([f.SINGLE,f.MULTI]).isRequired,setPreferredGrid:r.PropTypes.func.isRequired,trackGridSwitch:r.PropTypes.func.isRequired},b=[{type:f.SINGLE,icon:"grid-single"},{type:f.MULTI,icon:"grid-multi"}],P=t.GridChanger=function(e){var t=e.preferredGrid,o=e.setPreferredGrid,n=e.trackGridSwitch;return a.default.createElement("div",{className:y.default.gridSelector},b.map(function(e){return a.default.createElement("button",{key:e.type,className:(0,u.default)(y.default.gridButton,(r={},r[y.default.activeGridLink]=t===e.type,r)),onClick:function(){return(0,m.handleToggleClick)(e.type,t,o,n)}},a.default.createElement(h.default,{className:y.default.gridIcon,type:e.icon}));var r}))};P.displayName="GridChanger",P.propTypes=v;var g=function(e){return{preferredGrid:(0,c.getPreferredGrid)(e)}},T={setPreferredGrid:d.setPreferredGrid,trackGridSwitch:d.trackGridSwitch};t.default=(0,i.connect)(g,T)(P)},1491:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleToggleClick=void 0;var n=o(506),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=o(507);t.handleToggleClick=function(e,t,o,n){r.default.set(a.GRID,e),o(e),n(e)}},1492:function(e,t){e.exports={"--xs-max":"(--xs-max)",colorLightBlack:"#111",colorGrey:"#999",textDecorationNone:"_1CBrG",gridSelector:"LJo2j",gridButton:"_2OLVr _1CBrG",activeGridLink:"_1qJx4",gridIcon:"_32SMR"}},1493:function(e,t){e.exports={"--xs-max":"(--xs-max)",floatLeft:"_2T3hc",floatRight:"_3pmDG",clearfix:"_2KLco",container:"_2sKzG _2KLco",containerLayout:"PrOBO",gridContainer:"_18tY4 _2sCnE PrOBO _1CR66",gridContainerLayout:"_3o5sn PrOBO",firstFloatLeft:"_2d9fA _2T3hc",lastFloatRight:"_3lOS2 _3pmDG"}},1494:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return i.default.createElement("div",{className:d.default.container},i.default.createElement("a",{href:"/"},i.default.createElement(u.default,{type:"logo",className:d.default.logo})),i.default.createElement("p",{className:d.default.text},"Make something awesome"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(1),i=n(a),l=o(29),u=n(l),s=o(1495),d=n(s)},1495:function(e,t){e.exports={colorGrey:"#999","--sm":"(--sm)","--md-min":"(--md-min)",container:"_2WMKE",logo:"_1Ig-9",text:"_1cQDt"}},1496:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1494);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1497:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1498);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1498:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),i=o(60),l=o(1499),u=n(l),s=function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},c={preferredGrid:r.PropTypes.string.isRequired},f={single:2,multi:9},p=function(e){var t=e.preferredGrid,o=(0,i.isMasonryLayout)(t),n=d(Array(f[t]).keys());return a.default.createElement("div",{className:u.default.container},n.map(function(e,t){return a.default.createElement("div",{key:t,className:o?u.default.thirdContainer:u.default.singleContainer},a.default.createElement("div",{className:o?u.default.third:u.default.single}),!o&&a.default.createElement("div",{className:u.default.photoInfo},a.default.createElement("div",{className:u.default.leftActions},a.default.createElement("div",{className:u.default.likeButtonPlaceholder}),a.default.createElement("div",{className:u.default.addToCollectionButtonPlaceholder})),a.default.createElement("div",{className:u.default.user},a.default.createElement("div",{className:u.default.userPlaceholder})),a.default.createElement("div",{className:u.default.rightActions},a.default.createElement("div",{className:u.default.downloadButtonPlaceholder}))))}))};p.displayName="FeedPlaceholder",p.propTypes=c,t.default=p},1499:function(e,t){e.exports={clearfix:"_2KLco",container:"_1IQJa _2KLco _2sCnE PrOBO _1CR66","sm-col":"_6_Gu-","sm-col-12":"_39F6U","sm-col-6":"_2cVF0","md-col-4":"_1hITE",px2:"_2DKvn",floatLeft:"_2T3hc",floatRight:"_3pmDG","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",singleContainer:"_3Eie_ _6_Gu- _39F6U _2DKvn",thirdContainer:"_1ulF9 _6_Gu- _2cVF0 _1hITE _2DKvn",single:"_80hLe",third:"_1YEV-",placeholderAnimation:"_6bXJE",photoInfo:"_2UiKr",leftActions:"OJ6Md _2T3hc",user:"_2dxDA",rightActions:"Z8ES6 _3pmDG",userPlaceholder:"_3WZQi",likeButtonPlaceholder:"_2b_eh",addToCollectionButtonPlaceholder:"_3WdH3",downloadButtonPlaceholder:"_2oX-1"}},1500:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1501);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1501:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Feed=void 0;var r=o(1),a=n(r),i=o(9),l=o(96),u=o(191),s=o(60),d=o(1457),c=n(d),f=o(1478),p=n(f),h=o(1453),m=n(h),_={photos:r.PropTypes.arrayOf(r.PropTypes.object).isRequired,location:r.PropTypes.object.isRequired,preferredGrid:r.PropTypes.string,isPhone:r.PropTypes.bool,feedFooter:r.PropTypes.element},y=t.Feed=function(e){var t=e.feedFooter,o=e.isPhone,n=e.preferredGrid,r=e.location,i=e.photos,l=(0,s.isMasonryLayout)(n)&&!o;return a.default.createElement(m.default,null,a.default.createElement("div",null,l?a.default.createElement(c.default,{photos:i,location:r}):a.default.createElement(p.default,{photos:i,location:r}),t))};y.displayName="Feed",y.propTypes=_;var v=function(e){return{preferredGrid:(0,u.getPreferredGrid)(e),isPhone:(0,l.getIsPhone)(e)}};t.default=(0,i.connect)(v)(y)},1579:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1580);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1580:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return i.default.createElement("div",null,i.default.createElement("h1",{className:d.default.subHeader},"Beautiful, free photos."),i.default.createElement("p",{className:d.default.text},"Gifted by the world’s most generous community of photographers. 🎁"))}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedHeader=void 0;var a=o(1),i=n(a),l=o(1581),u=n(l),s=o(1584),d=n(s),c=t.FeedHeader=function(){return i.default.createElement("div",{className:d.default.container},i.default.createElement("span",{className:d.default.title},"Unsplash"),i.default.createElement("div",null,r(),i.default.createElement(u.default,null)))};c.displayName="FeedHeader",t.default=c},1581:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1582);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1582:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),i=o(9),l=o(141),u=o(96),s=o(47),d=o(22),c=o(41),f=o(53),p=n(f),h=o(1583),m=n(h),_=function(e){var t=e.isPhone,o=e.shouldEnableCollectionsOnboarding,n=e.isLoggedIn;return o&&n?a.default.createElement("div",null,a.default.createElement(p.default,{tag:"link",className:m.default.cta,to:c.collectionsOnboardingStep1AbsolutePath,buttonType:"outline",rel:"nofollow"},"Create a free collection")):t||!t&&!n?a.default.createElement("div",null,a.default.createElement(p.default,{tag:"a",className:m.default.cta,href:(0,d.railsUrl)()+"/submit",buttonType:"outline",rel:"nofollow"},"Submit a photo")):null};_.displayName="Buttons";var y=function(e){return{isPhone:(0,u.getIsPhone)(e),isLoggedIn:(0,s.getIsLoggedIn)(e),shouldEnableCollectionsOnboarding:(0,l.getShouldEnableCollectionsOnboarding)(e)}};t.default=(0,i.connect)(y)(_)},1583:function(e,t){e.exports={cta:"_3PnJy"}},1584:function(e,t){e.exports={container:"_258j4 _2sCnE PrOBO _1CR66","--sm-min":"(--sm-min)",fontWeightNormal:"_27Bp2",fontWeightBold:"_2svCU",headingL:"_2RmO0",title:"_2JV9L _2RmO0 _2svCU",subHeader:"_1gaeU _27Bp2",text:"_3uPxv _27Bp2"}},1585:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1586);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1586:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=n(r),i=o(145),l=o(9),u=o(47),s=o(191),d=o(522),c=n(d),f=o(1587),p=n(f),h=function(e){var t=e.isLoggedIn,o=e.newFeedHasUnseenPhotos,n=function(e){var t=e.label,o=e.pathname,n=e.shouldShowNotificationDot,r=void 0!==n&&n;return a.default.createElement(i.IndexLink,{to:{pathname:o},className:p.default.pageLink,activeClassName:p.default.activePageLink},t,r&&a.default.createElement(c.default,{isVisible:!0}))};return a.default.createElement("div",null,n({label:"Trending",pathname:"/"}),n({label:"New",pathname:"/new",shouldShowNotificationDot:o}),t&&n({label:"Following",pathname:"/following"}))};h.displayName="HomeFeedTypeNav";var m=function(e){return{isLoggedIn:(0,u.getIsLoggedIn)(e),newFeedHasUnseenPhotos:(0,s.getFeedHasUnseenPhotos)(e)}};t.default=(0,l.connect)(m)(h)},1587:function(e,t){e.exports={"--sm-min":"(--sm-min)",colorLightBlack:"#111",textDecorationNone:"_1CBrG",pageLink:"_3hAQy _1CBrG",activePageLink:"_3_FPZ"}},1702:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return function(e){return m.default.custom.listHomeFeedPhotos(e).then(_.handleApiFetchResponse).then(F)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Home=void 0;var a=o(1),i=n(a),l=o(9),u=o(280),s=n(u),d=o(20),c=o(69),f=o(188),p=o(97),h=o(59),m=n(h),_=o(61),y=o(21),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(y),b=o(550),P=o(1703),g=n(P),T=o(1579),w=n(T),O=o(1487),C=n(O),k=o(1496),E=n(k),M=o(1705),B=n(M),j=o(1585),A=n(j),N=o(1707),S=o(1708),R=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),F=(0,p.normalizeResponse)("homeFeed"),L={photos:a.PropTypes.arrayOf(a.PropTypes.object),location:a.PropTypes.object.isRequired,homeFeed:a.PropTypes.object.isRequired,updateData:a.PropTypes.func.isRequired,resetHomeFeed:a.PropTypes.func.isRequired,addPhotosToHomeFeed:a.PropTypes.func.isRequired},I={router:a.PropTypes.object.isRequired},U=function(e){function t(t){var o=e.call(this,t)||this;return o.handleFetchResponse=o.handleFetchResponse.bind(o),o}return R(t,e),t.prototype.componentDidMount=function(){var e=this.context.router.replace,t=this.props,o=t.updateData,n=t.resetHomeFeed;m.default.custom.listHomeFeedPhotos().then(_.handleApiFetchResponse).then(F).then(function(e){var t=e.entities,r=e.result;o(t),n({photoIds:r.photos,nextPage:r.next_page})}).catch((0,c.handleClientSideError)(e))},t.prototype.handleFetchResponse=function(e){var t=e.entities,o=e.result,n=this.props,r=n.updateData,a=n.addPhotosToHomeFeed,i=n.location;(0,d.trackPageView)(i),r(t),a({photoIds:o.photos,nextPage:o.next_page})},t.prototype.render=function(){var e=this.props,t=e.photos,o=e.homeFeed,n=e.location,a=(0,N.buildHomeHeadTags)(t),l=a.title,u=a.description,d=a.meta,c=a.canonicalUrl,p=0===t.length&&!o.maxPage,h=i.default.createElement(A.default,{location:n});return i.default.createElement("div",{"data-test":S.TEST_ATTRIBUTE},i.default.createElement(s.default,{title:l,description:u,meta:d,link:(0,f.buildLinks)(c)}),i.default.createElement(B.default,null),i.default.createElement(w.default,null),i.default.createElement(C.default,{leftChild:h,location:n,isHome:!0}),i.default.createElement(g.default,{showPlaceholder:p,photos:t,handleFetch:r(),handleFetchResponse:this.handleFetchResponse,location:n,nextPage:o.nextPage}),i.default.createElement(E.default,null))},t}(a.Component);t.Home=U,U.displayName="Home",U.propTypes=L,U.contextTypes=I;var D=function(e){return{photos:(0,b.getDenormalizedHomeFeedPhotos)(e),homeFeed:(0,b.getHomeFeed)(e)}},x={updateData:v.updateData,resetHomeFeed:v.resetHomeFeed,addPhotosToHomeFeed:v.addPhotosToHomeFeed};t.default=(0,l.connect)(D,x)(U)},1703:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1704);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1704:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NonSortableFeed=void 0;var r=o(1),a=n(r),i=o(9),l=o(69),u=o(191),s=o(496),d=n(s),c=o(1497),f=n(c),p=o(1500),h=n(p),m=o(1471),_=n(m),y=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),v={photos:r.PropTypes.arrayOf(r.PropTypes.object).isRequired,showPlaceholder:r.PropTypes.bool,handleFetch:r.PropTypes.func.isRequired,handleFetchResponse:r.PropTypes.func.isRequired,nextPage:r.PropTypes.string,endContent:r.PropTypes.element,location:r.PropTypes.object.isRequired,preferredGrid:r.PropTypes.string.isRequired},b={handleFetch:null,showPlaceholder:!1},P={router:r.PropTypes.object.isRequired},g=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o.handleFetchError=o.handleFetchError.bind(o),o}return y(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({shouldResetFeedContents:e.preferredGrid!==this.props.preferredGrid})},t.prototype.handleFetchError=function(e){var t=this.context.router.replace;(0,l.handleClientSideError)(t,{ravenTags:{component:"NonSortableFeed"}})(e)},t.prototype.render=function(){var e=this.props,t=e.showPlaceholder,o=e.photos,n=e.preferredGrid,r=e.nextPage,i=e.handleFetch,l=e.handleFetchResponse,u=e.location,s=e.endContent;if(t)return a.default.createElement(f.default,{preferredGrid:n});var c=!r;return a.default.createElement(_.default,{handleFetch:i,handleFetchArgs:{nextPage:r},handleFetchResponse:l,handleFetchError:this.handleFetchError,isDoneFetching:c,shouldResetFeedContents:this.state.shouldResetFeedContents},a.default.createElement(h.default,{photos:o,location:u,feedFooter:c?s:a.default.createElement(d.default,null)}))},t}(r.Component);t.NonSortableFeed=g,g.displayName="NonSortableFeed",g.propTypes=v,g.defaultProps=b,g.contextTypes=P;var T=function(e){return{preferredGrid:(0,u.getPreferredGrid)(e)}};t.default=(0,i.connect)(T)(g)},1705:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1706);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1706:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a='\n  <script type="application/ld+json">\n    {\n      "@context": "http://schema.org",\n      "@type": "WebSite",\n      "name": "Unsplash",\n      "url": "https://unsplash.com/",\n      "potentialAction": {\n        "@type": "SearchAction",\n        "target": "https://unsplash.com/search/photos/{search_term_string}",\n        "query-input": "required name=search_term_string"\n      }\n    }\n  <\/script>\n'.trim(),i=function(){return r.default.createElement("div",{dangerouslySetInnerHTML:{__html:a}})};i.displayName="WebSiteSchema",t.default=i},1707:function(e,t,o){"use strict";function n(e){return{title:a,description:i,canonicalUrl:l,meta:(0,r.buildFeedMetas)(e[0],a,i,l)}}Object.defineProperty(t,"__esModule",{value:!0}),t.buildHomeHeadTags=n;var r=o(188),a="Beautiful Free Images | Unsplash",i="Beautiful high quality free images and photos you can download and use for any project. No attribution required.",l="https://unsplash.com"},1708:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="home-route"}});
//# sourceMappingURL=home-route.main.f30b5.js.map